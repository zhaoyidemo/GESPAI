import { createSeedHandler, type SeedProblem } from "@/lib/seed-problems";

// GESP 5级完整题库 - 来源：洛谷 CCF GESP C++ 五级上机题
// 官方题单：https://www.luogu.com.cn/training/555
// 所有内容与洛谷100%一致

const gesp5Problems: SeedProblem[] = [
  // ========== 样题 ==========
  {
    title: "[GESP样题 五级] 小杨的锻炼",
    source: "gesp_official",
    sourceId: "B3941",
    sourceUrl: "https://www.luogu.com.cn/problem/B3941",
    level: 5,
    knowledgePoints: ["最小公倍数", "最大公约数", "数论"],
    difficulty: "普及-",
    description: `小杨的班级里共有 $n$ 名同学，每位同学都有各自的锻炼习惯。具体来说，第 $i$ 位同学每隔 $a_i$ 天就会进行一次锻炼（也就是说，每次锻炼会在上一次锻炼的 $a_i$ 天后进行）。某一天，班上的 $n$ 名同学恰好都来进行了锻炼。他们对此兴奋不已，想要计算出下一次所有同学都来锻炼，至少要过多少天。但他们不会计算，你能帮帮他们吗？`,
    inputFormat: `第一行一个整数 $n$，表示同学的数量。  
第二行 $n$ 个用空格隔开的正整数，依次为 $a_0, a_1, …, a_{n-1}$。`,
    outputFormat: `输出一个整数，表示下一次所有同学都来锻炼，至少要过多少天。`,
    samples: [
      { input: "3\n1 2 3", output: "6" },
      { input: "4\n2 4 8 16", output: "16" },
      { input: "4\n2 4 6 8", output: "24" }
    ],
    testCases: [
      // 原始样例 (3个)
      { input: "3\n1 2 3", output: "6" },
      { input: "4\n2 4 8 16", output: "16" },
      { input: "4\n2 4 6 8", output: "24" },
      // 极端测试用例 (15个) - 覆盖边界和特殊情况
      { input: "2\n1 50", output: "50" },         // n=2最小, a极端混合
      { input: "2\n49 50", output: "2450" },      // 两个最大且互质
      { input: "10\n1 1 1 1 1 1 1 1 1 1", output: "1" },  // n=10最大, 全1
      { input: "10\n50 50 50 50 50 50 50 50 50 50", output: "50" },  // n=10最大, 全50
      { input: "2\n1 1", output: "1" },           // 全为1
      { input: "2\n50 50", output: "50" },        // 全为50
      { input: "10\n1 2 3 4 5 6 7 8 9 50", output: "12600" },  // 1到50混合
      { input: "3\n41 43 47", output: "82861" },  // 三个大质数
      { input: "4\n37 41 43 47", output: "3065857" },  // 四个大质数
      { input: "10\n2 3 5 7 11 13 17 19 23 29", output: "6469693230" },  // 10个小质数，最大LCM
      { input: "3\n6 10 15", output: "30" },      // 复杂公因子关系
      { input: "3\n12 18 24", output: "72" },     // 有公因子的三数
      { input: "3\n16 32 48", output: "96" },     // 2的幂次相关
      { input: "2\n25 50", output: "50" },        // 倍数关系
      { input: "2\n1 49", output: "49" },         // 1和49
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `### 样例 1 解释

第一位同学每天都锻炼；第二位同学每 $2$ 天锻炼一次；第三位同学每 $3$ 天锻炼一次。因此，$6$ 天之后，三位同学都会进行锻炼。在此之前，第二位同学只会在第 $2, 4$ 天进行锻炼，第三位同学只会在第 $3$ 天进行锻炼，他们都无法相遇。

### 样例 2 解释

第四位同学每 $16$ 天锻炼一次，而 $16$ 天后也恰好是前三位同学锻炼的日子。

### 数据规模与约定

- 对 $20\\%$ 的数据，$n = 2$。
- 对 $50\\%$ 的数据，$n = 4$。
- 对 $100\\%$ 的数据，$2 \\leq n \\leq 10$，$1 \\leq a_i \\leq 50$。`,
  },
  {
    title: "[GESP样题 五级] 小杨的队列",
    source: "gesp_official",
    sourceId: "B3951",
    sourceUrl: "https://www.luogu.com.cn/problem/B3951",
    level: 5,
    knowledgePoints: ["排序", "置换环", "贪心"],
    difficulty: "普及-",
    description: `小杨的班级里共有 $N$ 名同学，学号从 $0$ 至 $N-1$。某节课上，老师要求同学们进行列队。具体来说，老师会依次点名 $M$ 名同学，让他们加入队伍。每名新入队的同学需要先站到队伍末尾（刚开始队伍里一个人都没有，所以第一个入队的同学只需要站好即可），随后，整个队伍中的所有同学需要按身高从低到高重新排序（身高相同的同学之间的顺序任意）。

排队很容易，但重新排序难倒了同学们。稍加讨论后，他们发现可以通过交换位置的方法来实现排序。具体来说，他们可以让队伍中的两名同学交换位置这样整个队伍的顺序就会发生变化，多经过这样的几次交换后，队伍的顺序就可以排好。

例如：队伍中有 $4$ 名同学，学号依次为 $10,17,3,25$，我们可以令 $3$ 号同学和 $10$ 号同学交换位置，则交换后的队伍顺序变为 $3,17,10,25$，这就是一次交换位置。

聪明的小杨想要知道：在老师每次点名一位新同学加入队伍后，在原有队伍的基础上，同学们最少要进行几次交换位置，才能完成老师按身高排序的要求。`,
    inputFormat: "第一行一个整数 $N$，表示同学的数量  \n第二行 $N$ 个用空格隔开的正整数，依次表示学号为 $0,1,$ … $,N-1$ 的同学的身高（不超过 $2,147,483,647$）。  \n第三行一个整数 $M$，表示老师点名的数量。  \n接下来 $M$ 行，依次描述 $M$ 次点名：每行一个整数 $x$（$0 \\le x<N$），表示要求学号为 $x$ 的同学加入队伍。保证该名同学此前不在队伍中。",
    outputFormat: `输出 $M$ 行，依次表示对于每次点名，同学们最少要进行几次交换位置，才能完成按身高排序的要求。`,
    samples: [
      { input: "5\n170 165 168 160 175\n4\n0\n3\n2\n1", output: "0\n1\n1\n2" },
      { input: "4\n20 20 20 10\n4\n0\n1\n2\n3", output: "0\n0\n0\n1" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "5\n170 165 168 160 175\n4\n0\n3\n2\n1", output: "0\n1\n1\n2" },
      { input: "4\n20 20 20 10\n4\n0\n1\n2\n3", output: "0\n0\n0\n1" },
      // 极端测试用例
      { input: "1\n100\n1\n0", output: "0" },  // 最小情况：1人1次点名
      { input: "2\n10 20\n2\n0\n1", output: "0\n0" },  // 2人，身高递增，无需交换
      { input: "2\n20 10\n2\n0\n1", output: "0\n1" },  // 2人，身高递减
      { input: "3\n100 100 100\n3\n0\n1\n2", output: "0\n0\n0" },  // 全相同身高
      { input: "5\n1 2 3 4 5\n5\n0\n1\n2\n3\n4", output: "0\n0\n0\n0\n0" },  // 严格递增
      { input: "5\n5 4 3 2 1\n5\n0\n1\n2\n3\n4", output: "0\n1\n2\n3\n4" },  // 严格递减，交换次数最大
      { input: "3\n2147483647 1 1000000000\n3\n0\n1\n2", output: "0\n1\n1" },  // 大数值身高
      { input: "4\n50 40 30 20\n4\n3\n2\n1\n0", output: "0\n0\n0\n0" },  // 从最矮开始点名，每次新人都是当前最矮
      { input: "4\n50 40 30 20\n4\n0\n1\n2\n3", output: "0\n1\n2\n3" },  // 从最高开始点名，交换次数递增
      { input: "6\n10 30 20 40 50 60\n6\n0\n2\n1\n3\n4\n5", output: "0\n0\n0\n0\n0\n0" },  // 按身高递增点名，无需交换
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `对于所有的测试点，保证 $1 \\le M \\le N \\le 2000$。对于 $50\\%$ 的测试点，保证所有同学的身高互不相同。`,
  },
  // ========== 2023年9月 ==========
  {
    title: "[GESP202309 五级] 因数分解",
    source: "gesp_official",
    sourceId: "B3871",
    sourceUrl: "https://www.luogu.com.cn/problem/B3871",
    level: 5,
    knowledgePoints: ["质因数分解", "数论"],
    difficulty: "普及-",
    description: `每个正整数都可以分解成素数的乘积，例如： $6=2\\times 3$，$20=2^2\\times5$。

现在，给定一个正整数，请按要求输出它的因数分解式。`,
    inputFormat: `输入第一行，包含一个正整数 $N$。约定 $2 \\le N \\le 10^{12}$。`,
    outputFormat: `输出一行，为的因数分解式。要求按质因数由小到大排列，乘号用星号 \`*\` 表示，且左右各空一格。当且仅当一个素数出现多次时，将它们合并为指数形式，用上箭头 \`^\` 表示，且左右不空格。`,
    samples: [
      { input: "6", output: "2 * 3" },
      { input: "20", output: "2^2 * 5" },
      { input: "23", output: "23" },
    ],
    testCases: [
      // 原始样例 (3个)
      { input: "6", output: "2 * 3" },
      { input: "20", output: "2^2 * 5" },
      { input: "23", output: "23" },
      // 极端测试用例
      { input: "2", output: "2" },  // 最小值，质数
      { input: "3", output: "3" },  // 最小奇质数
      { input: "4", output: "2^2" },  // 最小完全平方数
      { input: "8", output: "2^3" },  // 2的幂次
      { input: "1024", output: "2^10" },  // 2^10
      { input: "27", output: "3^3" },  // 3的幂次
      { input: "125", output: "5^3" },  // 5的幂次
      { input: "997", output: "997" },  // 较大质数
      { input: "999961", output: "999961" },  // 大质数
      { input: "30", output: "2 * 3 * 5" },  // 三个不同质因子
      { input: "210", output: "2 * 3 * 5 * 7" },  // 四个不同质因子
      { input: "360", output: "2^3 * 3^2 * 5" },  // 混合指数
      { input: "1000000000000", output: "2^12 * 5^12" },  // 10^12 = 2^12 * 5^12
      { input: "999999999989", output: "999999999989" },  // 接近10^12的大质数
      { input: "100", output: "2^2 * 5^2" },  // 完全平方数
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: ``,
  },
  {
    title: "[GESP202309 五级] 巧夺大奖",
    source: "gesp_official",
    sourceId: "B3872",
    sourceUrl: "https://www.luogu.com.cn/problem/B3872",
    level: 5,
    knowledgePoints: ["贪心", "调度问题", "排序"],
    difficulty: "普及/提高-",
    description: `小明参加了一个巧夺大奖的游戏节目。主持人宣布了游戏规则：

1. 游戏分为 $n$ 个时间段，参加者每个时间段可以选择一个小游戏。

2. 游戏中共有 $n$ 个小游戏可供选择。

3. 每个小游戏有规定的时限和奖励。对于第 $i$ 个小游戏，参加者必须在第 $T_i$ 个时间段结束前完成才能得到奖励 $R_i$。

小明发现，这些小游戏都很简单，不管选择哪个小游戏，他都能在一个时间段内完成。关键问题在于，如何安排每个时间段分别选择哪个小游戏，才能使得总奖励最高？`,
    inputFormat: `输入第一行，包含一个正整数 $n$。$n$ 既是游戏时间段的个数，也是小游戏的个数。约定 $1\\le n\\le500$。

输入第二行，包含 $n$ 个正整数。第 $i$ 个正整数为 $T_i$，即第 $i$ 个小游戏的完成期限。约定 $1\\le T_i\\le n$。

输入第三行，包含 $n$ 个正整数。第 $i$ 个正整数为 $R_i$，即第 $i$ 个小游戏的完成奖励。约定 $1\\le R_i\\le 1000$。`,
    outputFormat: `输出一行，包含一个正整数 $C$，为最高可获得的奖励。`,
    samples: [
      { input: "7\n4 2 4 3 1 4 6\n70 60 50 40 30 20 10", output: "230" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "7\n4 2 4 3 1 4 6\n70 60 50 40 30 20 10", output: "230" },
      // 极端测试用例
      { input: "1\n1\n100", output: "100" },  // 最小情况：1个游戏
      { input: "1\n1\n1000", output: "1000" },  // 最大奖励
      { input: "3\n1 1 1\n100 200 300", output: "300" },  // 所有截止时间相同，选最大
      { input: "3\n3 3 3\n100 200 300", output: "600" },  // 所有截止时间相同且充足
      { input: "5\n1 2 3 4 5\n10 20 30 40 50", output: "150" },  // 全部可完成
      { input: "5\n5 4 3 2 1\n10 20 30 40 50", output: "150" },  // 截止时间递减
      { input: "5\n1 1 1 1 1\n10 20 30 40 50", output: "50" },  // 只能完成1个
      { input: "4\n2 2 2 2\n100 200 300 400", output: "700" },  // 只能完成2个
      { input: "5\n1 2 3 4 5\n1000 1000 1000 1000 1000", output: "5000" },  // 相同奖励
      { input: "6\n1 2 1 2 3 3\n500 400 300 200 100 50", output: "1000" },  // 贪心选择：t=1选500，t=2选400，t=3选100
      { input: "10\n1 2 3 4 5 6 7 8 9 10\n100 90 80 70 60 50 40 30 20 10", output: "550" },  // 较大规模
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `**样例解释 1**

$7$ 个时间段可分别安排完成第 4、2、3、1、6、7、5 个小游戏，其中第 4、2、3、1、7 个小游戏在期限内完成。因此，可以获得总计 $40+60+50+70+10=230$ 的奖励。`,
  },
  // ========== 2023年12月 ==========
  {
    title: "[GESP202312 五级] 小杨的幸运数",
    source: "gesp_official",
    sourceId: "B3929",
    sourceUrl: "https://www.luogu.com.cn/problem/B3929",
    level: 5,
    knowledgePoints: ["完全平方数", "数论", "倍数"],
    difficulty: "普及/提高-",
    description: `小杨认为，所有大于等于 $a$ 的完全平方数都是他的超级幸运数。

小杨还认为，所有超级幸运数的倍数都是他的幸运数。自然地，小杨的所有超级幸运数也都是幸运数。

对于一个非幸运数，小杨规定，可以将它一直 $+1$，直到它变成一个幸运数。我们把这个过程叫做幸运化。例如，如果 $a=4$，那么 $4$ 是最小的幸运数，而 $1$ 不是，但我们可以连续对 $1$ 做 $3$ 次 $+1$ 操作，使其变为 $4$，所以我们可以说， $1$ 幸运化后的结果是 $4$。

现在，小杨给出 $N$ 个数，请你首先判断它们是不是幸运数；接着，对于非幸运数，请你将它们幸运化。`,
    inputFormat: `第一行 $2$ 个正整数 $a, N$。

接下来 $N$ 行，每行一个正整数 $x$ ，表示需要判断（幸运化）的数。`,
    outputFormat: `输出 $N$ 行，对于每个给定的 $x$ ，如果它是幸运数，请输出 \`lucky\`，否则请输出将其幸运化后的结果。`,
    samples: [
      { input: "2 4 \n1 \n4 \n5 \n9", output: "4 \nlucky \n8 \nlucky" },
      { input: "16 11 \n1 \n2 \n4 \n8 \n16 \n32 \n64 \n128 \n256 \n512\n1024", output: "16 \n16 \n16 \n16 \nlucky \nlucky \nlucky \nlucky \nlucky \nlucky \nlucky" }
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "2 4\n1\n4\n5\n9", output: "4\nlucky\n8\nlucky" },
      { input: "16 11\n1\n2\n4\n8\n16\n32\n64\n128\n256\n512\n1024", output: "16\n16\n16\n16\nlucky\nlucky\nlucky\nlucky\nlucky\nlucky\nlucky" },
      // 极端测试用例
      { input: "1 3\n1\n2\n3", output: "lucky\nlucky\nlucky" },  // a=1，所有>=1的完全平方数都是超级幸运数
      { input: "4 5\n1\n2\n3\n4\n8", output: "4\n4\n4\nlucky\nlucky" },  // a=4
      { input: "100 5\n1\n99\n100\n200\n300", output: "100\n100\nlucky\nlucky\nlucky" },  // a=100
      { input: "9 6\n1\n8\n9\n18\n27\n36", output: "9\n9\nlucky\nlucky\nlucky\nlucky" },  // a=9
      { input: "4 4\n3\n5\n7\n11", output: "4\n8\n8\n12" },  // 都不是幸运数
      { input: "25 5\n24\n25\n50\n75\n100", output: "25\nlucky\nlucky\nlucky\nlucky" },  // a=25
      { input: "1000000 3\n1\n999999\n2000000", output: "1000000\n1000000\nlucky" },  // 大数边界，2000000是1000000的倍数
      { input: "4 3\n12\n16\n20", output: "lucky\nlucky\nlucky" },  // 都是4的倍数
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `**样例解释 1**

$1$ 虽然是完全平方数，但它小于 $a$，因此它并不是超级幸运数，也不是幸运数。将其进行 $3$ 次 $+1$ 操作后，最终得到幸运数 $4$。

$4$ 是幸运数，因此直接输出 \`lucky\`。

$5$ 不是幸运数，将其进行 $3$ 次 $+1$ 操作后，最终得到幸运数 $8$。

$9$ 是幸运数，因此直接输出 \`lucky\`。

**数据规模**

对于 $30\\%$ 的测试点，保证 $a,x \\le 100,N \\le 100$。

对于 $60\\%$ 的测试点，保证 $a,x \\le 10^6$。

对于所有测试点，保证 $a \\le 1,000,000$；保证 $N \\le 2 \\times 10^5$；保证 $1 \\le x \\le 1,000,001$。`,
  },
  {
    title: "[GESP202312 五级] 烹饪问题",
    source: "gesp_official",
    sourceId: "B3930",
    sourceUrl: "https://www.luogu.com.cn/problem/B3930",
    level: 5,
    knowledgePoints: ["位运算", "按位与", "枚举"],
    difficulty: "普及/提高-",
    description: `有 $N$ 种食材，编号从 $1$ 至 $N$，其中第 $i$ 种食材的美味度为 $a_i$。

不同食材之间的组合可能产生奇妙的化学反应。具体来说，如果两种食材的美味度分别为 $x$ 和 $y$ ，那么它们的契合度为 $x\\ \\text{and}\\ y $。

其中，$\\text{and}$ 运算为按位与运算，需要先将两个运算数转换为二进制，然后在高位补足 ，再逐位进行与运算。例如，$12$ 与 $6$ 的二进制表示分别为 $1100$ 和 $0110$ ，将它们逐位进行与运算，得到 $0100$ ，转换为十进制得到 4，因此 $12\\ \\text{and}\\ 6 = 4$。**在 C++ 或 Python 中，可以直接使用 \`&\` 运算符表示与运算。**


现在，请你找到契合度最高的两种食材，并输出它们的契合度。`,
    inputFormat: `第一行一个整数 $N$，表示食材的种数。

接下来一行 $N$ 个用空格隔开的整数，依次为 $a_1,\\cdots,a_N$，表示各种食材的美味度。`,
    outputFormat: `输出一行一个整数，表示最高的契合度。`,
    samples: [
      { input: "3\n1 2 3", output: "2" },
      { input: "5\n5 6 2 10 13", output: "8" }
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "3\n1 2 3", output: "2" },
      { input: "5\n5 6 2 10 13", output: "8" },
      // 极端测试用例
      { input: "2\n0 0", output: "0" },  // 最小值，全0
      { input: "2\n0 1", output: "0" },  // 0和任何数AND都是0
      { input: "2\n1 1", output: "1" },  // 相同数
      { input: "2\n7 7", output: "7" },  // 相同数
      { input: "3\n1 3 5", output: "1" },  // 奇数序列
      { input: "3\n2 4 6", output: "4" },  // 偶数序列 (4 & 6 = 4)
      { input: "4\n8 12 14 15", output: "14" },  // 14 & 15 = 14
      { input: "3\n255 127 63", output: "127" },  // 二进制全1的数
      { input: "4\n16 24 28 30", output: "28" },  // 28 & 30 = 28
      { input: "2\n2147483647 2147483647", output: "2147483647" },  // INT_MAX
      { input: "3\n2147483647 2147483646 2147483645", output: "2147483646" },  // 大数AND
      { input: "5\n1024 512 256 128 64", output: "0" },  // 2的幂次，互不相交
      { input: "4\n15 15 15 15", output: "15" },  // 全相同
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `**样例解释 1**  

可以编号为 $2,3$ 的食材之间的契合度为 $2\\ \\text{and} \\ 3=2$，是所有食材两两之间最高的契合度。

**样例解释 2** 

可以编号为 $3,4$ 的食材之间的契合度为 $10\\ \\text{and}\\ 13=8$，是所有食材两两之间最高的契合度。

**数据范围**

对于 $40\\%$ 的测试点，保证 $N \\le 1,000$；

对于所有测试点，保证 $N \\le 10^6$，$0\\le a_i \\le 2,147,483,647$。`,
  },
  // ========== 2024年3月 ==========
  {
    title: "[GESP202403 五级] 成绩排序",
    source: "gesp_official",
    sourceId: "B3968",
    sourceUrl: "https://www.luogu.com.cn/problem/B3968",
    level: 5,
    knowledgePoints: ["排序", "多关键字排序", "模拟"],
    difficulty: "普及-",
    description: `有 $n$ 名同学，每名同学有语文、数学、英语三科成绩，你需要按照如下规则对所有同学的成绩从高到低排序：

1. 比较总分，高者靠前；
2. 如果总分相同，则比较语文和数学两科的总分，高者靠前；
3. 如果仍相同，则比较语文和数学两科的最高分，高者靠前；
4. 如果仍相同，则二人并列。

你需要输出每位同学的排名，如遇 $x$ 人并列，则他们排名相同，并留空后面的 $x - 1$ 个名次。例如，有 $3$ 名同学并列第 $1$，则后一名同学自动成为第 $4$ 名。`,
    inputFormat: `第一行一个整数 $N$，表示同学的人数。  
接下来 $N$ 行，每行三个非负整数 $c_i, m_i, e_i$ 分别表示该名同学的语文、数学、英语成绩。`,
    outputFormat: `输出 $N$ 行，按输入同学的顺序，输出他们的排名。  
**注意：请不要按排名输出同学的序号，而是按同学的顺序输出他们各自的排名。**`,
    samples: [
      { input: "6\n140 140 150\n140 149 140\n148 141 140\n141 148 140\n145 145 139\n0 0 0", output: "1\n3\n4\n4\n2\n6" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "6\n140 140 150\n140 149 140\n148 141 140\n141 148 140\n145 145 139\n0 0 0", output: "1\n3\n4\n4\n2\n6" },
      // 极端测试用例
      { input: "2\n100 100 100\n50 50 50", output: "1\n2" },  // 最小情况，明确排名
      { input: "2\n100 100 100\n100 100 100", output: "1\n1" },  // 完全相同，并列第1
      { input: "3\n150 150 150\n100 100 100\n50 50 50", output: "1\n2\n3" },  // 总分不同
      { input: "3\n100 100 100\n150 50 100\n50 150 100", output: "3\n1\n1" },  // 总分相同，语数和相同，语数最高分决定
      { input: "4\n100 50 50\n50 100 50\n75 75 50\n60 60 80", output: "1\n1\n3\n4" },  // 复杂排名
      { input: "3\n150 0 0\n0 150 0\n75 75 0", output: "1\n1\n3" },  // 语数最高分相同
      { input: "2\n0 0 0\n0 0 0", output: "1\n1" },  // 全0分
      { input: "2\n150 150 150\n150 150 150", output: "1\n1" },  // 满分并列
      { input: "5\n100 90 80\n90 100 80\n80 90 100\n100 80 90\n90 80 100", output: "1\n1\n4\n3\n4" },  // 语数和不同，部分并列
      { input: "4\n100 100 50\n100 100 49\n99 100 51\n100 99 51", output: "1\n4\n2\n2" },  // 多级排序，3、4号并列第2
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `- 对 $30\\%$ 的数据，$N \\leq 100$，且所有同学总分各不相同。
- 对全部的测试数据，保证 $2 \\leq N \\leq 10^4$，$0 \\leq c_i, m_i, e_i \\leq 150$。`,
  },
  {
    title: "[GESP202403 五级] B-smooth 数",
    source: "gesp_official",
    sourceId: "B3969",
    sourceUrl: "https://www.luogu.com.cn/problem/B3969",
    level: 5,
    knowledgePoints: ["质因数分解", "筛法", "数论"],
    difficulty: "普及-",
    description: `小杨同学想寻找一种名为 $ B $-smooth 数的正整数。 

如果一个正整数的最大质因子不超过 $ B $，则该正整数为 $ B $-smooth 数。小杨同学想知道，对于给定的 $ n $ 和 $ B $，有多少个不超过 $ n $ 的 $ B $-smooth 数。`,
    inputFormat: `第一行包含两个正整数 $ n $ 和 $ B $，含义如题面所示。`,
    outputFormat: `输出一个非负整数，表示不超过 $ n $ 的 $ B $-smooth 数的数量。`,
    samples: [
      { input: "10 3", output: "7" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "10 3", output: "7" },
      // 极端测试用例
      { input: "1 1", output: "1" },  // 最小情况，只有1
      { input: "1 2", output: "1" },  // n=1
      { input: "10 1", output: "1" },  // B=1，只有1满足
      { input: "10 2", output: "4" },  // 2-smooth: 1,2,4,8
      { input: "100 2", output: "7" },  // 2-smooth到100: 1,2,4,8,16,32,64
      { input: "100 5", output: "34" },  // 5-smooth到100: 1,2,3,4,5,6,8,9,10,12,15,16,18,20,24,25,27,30,32,36,40,45,48,50,54,60,64,72,75,80,81,90,96,100
      { input: "1000 7", output: "141" },  // 7-smooth到1000
      { input: "100 100", output: "100" },  // B>=n，所有数都是B-smooth
      { input: "1000 1000", output: "1000" },  // B=n
      { input: "50 7", output: "31" },  // 7-smooth数到50共31个
      { input: "1000000 2", output: "20" },  // 大n，小B
      { input: "1000000 1000000", output: "1000000" },  // 最大情况
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `### 样例解释

在不超过 $10$ 的正整数中，$3$-smooth 数有 \${1,2,3,4,6,8,9}$，共 $7$ 个。

### 数据规模与约定

| 子任务 | 得分 | $n \\leq $ | $B$ |
| :-: | :-: | :-: | :-: |
| $1$ | $30$ | $10^3$ | $1 \\leq B \\leq 10^3$ |
| $2$ | $30$ | $10^6$ | $\\sqrt n \\leq B \\leq 10^6$ |
| $3$ | $40$ | $10^6$ | $1 \\leq B \\leq 10^6$ | 

对全部的测试数据，保证 $1 \\leq n, B \\leq 10^6$。`,
  },
  // ========== 2024年6月 ==========
  {
    title: "[GESP202406 五级] 黑白格",
    source: "gesp_official",
    sourceId: "P10719",
    sourceUrl: "https://www.luogu.com.cn/problem/P10719",
    level: 5,
    knowledgePoints: ["二维前缀和", "枚举", "子矩阵"],
    difficulty: "普及/提高-",
    description: `小杨有一个 $n$ 行 $m$ 列的网格图，其中每个格子要么是白色，要么是黑色。

小杨想知道至少包含 $k$ 个黑色格子的最小子矩形包含了多少个格子。`,
    inputFormat: `第一行包含三个正整数 $n,m,k$，含义如题面所示。

之后 $n$ 行，每行一个长度为 $m$ 的 $\\texttt{01}$ 串，代表网格图第 $i$ 行格子的颜色，如果为 $\\texttt{0}$，则对应格子为白色，否则为黑色。`,
    outputFormat: `输出一个整数，代表至少包含 $k$ 个黑色格子的最小子矩形包含格子的数量，如果不存在则输出 $0$。`,
    samples: [
      { input: "4 5 5\n00000\n01111\n00011\n00011", output: "6" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "4 5 5\n00000\n01111\n00011\n00011", output: "6" },
      // 极端测试用例
      { input: "1 1 1\n1", output: "1" },  // 最小情况
      { input: "1 1 1\n0", output: "0" },  // 无黑格子
      { input: "1 5 3\n11111", output: "3" },  // 单行
      { input: "5 1 3\n1\n1\n1\n1\n1", output: "3" },  // 单列
      { input: "3 3 9\n111\n111\n111", output: "9" },  // 全黑
      { input: "3 3 10\n111\n111\n111", output: "0" },  // k超过总黑格数
      { input: "3 3 1\n000\n010\n000", output: "1" },  // 只有1个黑格
      { input: "2 2 2\n11\n00", output: "2" },  // 2x1矩形
      { input: "2 2 2\n10\n01", output: "4" },  // 对角黑格
      { input: "4 4 4\n1000\n0100\n0010\n0001", output: "16" },  // 对角线
      { input: "3 4 3\n0000\n1110\n0000", output: "3" },  // 中间一行
      { input: "5 5 1\n00000\n00000\n00100\n00000\n00000", output: "1" },  // 中心一点
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `#### 样例解释

对于样例 $1$，假设 $(i,j)$ 代表第 $i$ 行第 $j$ 列，至少包含 $5$ 个黑色格子的最小子矩形的四个顶点为 $(2,4)$，$(2,5)$，$(4,4)$，$(4,5)$，共包含 $6$ 个格子。

#### 数据范围

对于全部数据，保证有 $1\\le n,m\\le 100$，$1\\le k\\le n\\times m$。

| 子任务编号 | 得分 | $n,m$ |
| :--: | :--: | :--: |
| $1$ | $20$ | $\\le 10$  |
| $2$ | $40$ | $n=1$，$1\\le m\\le 100$ |
| $3$ | $40$ | $\\le 100$|

Update on 2024/7/9：添加了若干组 hack 数据，感谢 @cff_0102 的贡献。`,
  },
  {
    title: "[GESP202406 五级] 小杨的幸运数字",
    source: "gesp_official",
    sourceId: "P10720",
    sourceUrl: "https://www.luogu.com.cn/problem/P10720",
    level: 5,
    knowledgePoints: ["质因数分解", "数论"],
    difficulty: "普及-",
    description: `小杨认为他的幸运数字应该恰好有两种不同的质因子，例如，$12=2\\times 2\\times 3$ 的质因子有 $2,3$，恰好为两种不同的质因子，因此 $12$ 是幸运数字，而 $30=2\\times3\\times5$ 的质因子有 $2,3,5$，不符合要求，不为幸运数字。

小杨现在有 $n$ 个正整数，他想知道每个正整数是否是他的幸运数字。`,
    inputFormat: `第一行包含一个正整数 $n$，代表正整数个数。

之后 $n$ 行，每行一个正整数。`,
    outputFormat: `输出 $n$ 行，对于每个正整数，如果是幸运数字，输出 $1$，否则输出 $0$。`,
    samples: [
      { input: "3\n7\n12\n30", output: "0\n1\n0" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "3\n7\n12\n30", output: "0\n1\n0" },
      // 极端测试用例
      { input: "1\n2", output: "0" },  // 最小值，质数
      { input: "1\n4", output: "0" },  // 2^2，只有1种质因子
      { input: "1\n6", output: "1" },  // 2*3，恰好2种
      { input: "5\n2\n3\n5\n7\n11", output: "0\n0\n0\n0\n0" },  // 全是质数
      { input: "5\n4\n8\n16\n32\n64", output: "0\n0\n0\n0\n0" },  // 全是2的幂次
      { input: "5\n6\n10\n14\n15\n21", output: "1\n1\n1\n1\n1" },  // 全是幸运数字
      { input: "4\n30\n42\n66\n70", output: "0\n0\n0\n0" },  // 3种质因子
      { input: "3\n210\n2310\n30030", output: "0\n0\n0" },  // 多种质因子
      { input: "4\n12\n18\n20\n28", output: "1\n1\n1\n1" },  // 2种质因子
      { input: "3\n1000000\n999999\n999998", output: "1\n0\n0" },  // 1000000=2^6*5^6(2种), 999999=3^3*7*11*13*37(5种), 999998=2*31*127^2(3种)
      { input: "1\n524288", output: "0" },  // 2^19，只有1种质因子
      { input: "1\n786432", output: "1" },  // 2^18 * 3 = 786432
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `### 样例解释

$7$ 的质因子有 $7$，只有一种。

$12$ 的质因子有 $2,3$，恰好有两种。

$30$ 的质因子有 $2,3,5$，有三种。


### 数据范围

子任务编号|数据点占比|$n$|正整数值域
:-:|:-:|:-:|:-:
$1$|$40\\%$|$\\leq 100$|$\\leq 10^5$
$2$|$60\\%$|$\\leq 10^4$|$\\leq 10^6$

对于全部数据，保证有 $1\\leq n\\leq 10^4$，每个正整数 $a_i$ 满足 $2\\leq a_i\\leq 10^6$。`,
  },
  // ========== 2024年9月 ==========
  {
    title: "[GESP202409 五级] 挑战怪物",
    source: "gesp_official",
    sourceId: "B4050",
    sourceUrl: "https://www.luogu.com.cn/problem/B4050",
    level: 5,
    knowledgePoints: ["贪心", "质数", "二进制"],
    difficulty: "普及/提高-",
    description: `小杨正在和一个怪物战斗，怪物的血量为 $h$，只有当怪物的血量**恰好**为 $0$ 时小杨才能够成功击败怪物。

小杨有两种攻击怪物的方式：
- 物理攻击。假设当前为小杨第  $i$ 次使用物理攻击，则会对怪物造成 $2^{i - 1}$ 点伤害。
- 魔法攻击。小杨选择任意一个质数 $x$（ 不能超过怪物当前血量），对怪物造成 $x$ 点伤害。由于小杨并不擅长魔法，他只能使用**至多一次**魔法攻击。

小杨想知道自己能否击败怪物，如果能，小杨想知道自己最少需要多少次攻击。`,
    inputFormat: `**本题单个测试点内有多组测试数据**。第一行包含一个正整数 $t$，代表测试用例组数。

接下来是 $t$ 组测试用例。对于每组测试用例，只有一行一个整数 $h$，代表怪物血量。`,
    outputFormat: `对于每组测试用例，如果小杨能够击败怪物，输出一个整数，代表小杨需要的最少攻击次数，如果不能击败怪物，
输出 $-1$。`,
    samples: [
      { input: "3\n6\n188\n9999", output: "2\n4\n-1" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "3\n6\n188\n9999", output: "2\n4\n-1" },
      // 极端测试用例
      { input: "1\n1", output: "1" },  // 最小血量，1次物理攻击
      { input: "1\n2", output: "1" },  // h=2, 魔法攻击质数2，一次搞定
      { input: "1\n3", output: "1" },  // h=3, 魔法攻击质数3，一次搞定
      { input: "1\n7", output: "1" },  // h=7, 魔法攻击质数7，一次搞定
      { input: "1\n15", output: "4" },  // h=15, 4次物理(1+2+4+8)
      { input: "1\n31", output: "1" },  // h=31, 31是质数，1次魔法
      { input: "1\n63", output: "6" },  // h=63, 6次物理
      { input: "5\n1\n2\n3\n4\n5", output: "1\n1\n1\n2\n1" },  // 1用物理1次；2,3,5用魔法1次；4用魔法3+物理1=2次
      { input: "3\n100\n1000\n10000", output: "3\n3\n-1" },  // 100=97+3(3次)，1000=997+3(3次)，10000无解(9937=19×523非质数)
      { input: "1\n100000", output: "15" },  // 100000=83617(质数)+16383(2^14-1)，15次
      { input: "1\n65535", output: "16" },  // 2^16-1, 纯物理攻击
      { input: "1\n65536", output: "5" },  // 65536=65521(质数)+15(2^4-1)，5次
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `### 样例 1 解释

对于第一组测试用例，一种可能的最优方案为，小杨先对怪物使用魔法攻击，选择质数 $5$ 造成 $5$ 点伤害，之后对怪
物使用第 $1$ 次物理攻击，造成 $2^{1 - 1} = 1$ 点伤害，怪物血量恰好为 $0$，小杨成功击败怪物。

### 数据规模与约定

| 子任务编号 | 分数占比 | $t$ | $h$ |
| :-: | :-: | :-: | :-: |
| $1$ | $20\\%$ | $\\leq 5$ | $\\leq 10$ |
| $2$ | $20\\%$ | $\\leq 10$ | $\\leq 100$ |
| $3$ | $60\\%$ | $\\leq 10$ | $\\leq 10^5$ |

对于全部的测试数据，保证 $1 \\leq t \\leq 10$，$1 \\leq h \\leq 10^5$。`,
  },
  {
    title: "[GESP202409 五级] 小杨的武器",
    source: "gesp_official",
    sourceId: "B4051",
    sourceUrl: "https://www.luogu.com.cn/problem/B4051",
    level: 5,
    knowledgePoints: ["贪心", "排序", "前缀和"],
    difficulty: "普及-",
    description: `小杨有 $n$ 种不同的武器，他对第 $i$ 种武器的初始熟练度为 $c_i$。

小杨会依次参加 $m$ 场战斗，每场战斗小杨只能且必须选择一种武器使用，假设小杨使用了第 $i$ 种武器参加了第 $j$ 场战斗，战斗前该武器的熟练度为 $c'_i$，则战斗后小杨对该武器的熟练度会变为 $c'_i + a_j$。需要注意的是，$a_j$ 可能是正数，$0$ 或负数，这意味着小杨参加战斗后对武器的熟练度可能会提高，也可能会不变，还有可能降低。

小杨想请你编写程序帮他计算出如何选择武器才能使得 $m$ 场战斗后，自己对 $n$ 种武器的熟练度的**最大值尽可能大**。`,
    inputFormat: `第一行包含两个正整数 $n,m$，含义如题面所示。  
第二行包含 $n$ 个正整数 $c_1, c_2, \\dots c_n$，代表小杨对武器的初始熟练度。  
第三行包含 $m$ 个正整数 $a_1, a_2, \\dots a_m$，代表每场战斗后武器熟练度的变化值。`,
    outputFormat: `输出一个整数，代表 $m$ 场战斗后小杨对 $n$ 种武器的熟练度的最大值最大是多少。`,
    samples: [
      { input: "2 2\n9 9\n1 -1", output: "10" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "2 2\n9 9\n1 -1", output: "10" },
      // 极端测试用例
      { input: "1 1\n0\n10000", output: "10000" },  // 最小情况，只有1把武器
      { input: "1 1\n10000\n-10000", output: "0" },  // 只有1武器必须战斗，10000-10000=0
      { input: "2 1\n100 200\n50", output: "250" },  // 选最大初始值的武器
      { input: "2 3\n0 0\n10 20 30", output: "60" },  // 全正增益
      { input: "2 3\n100 100\n-10 -20 -30", output: "100" },  // 全负增益，不用战斗
      { input: "3 5\n10 20 30\n5 -3 8 -2 10", output: "53" },  // 混合增益
      { input: "2 4\n0 0\n100 -50 100 -50", output: "200" },  // 正负交替，正增益给武器1得200
      { input: "1 5\n0\n1 2 3 4 5", output: "15" },  // 单武器全正
      { input: "5 1\n1 2 3 4 5\n10", output: "15" },  // 多武器单战斗
      { input: "2 2\n10000 10000\n10000 10000", output: "30000" },  // 最大值边界
      { input: "2 2\n-10000 -10000\n10000 10000", output: "10000" },  // 负初始值
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `### 样例 1 解释

一种最优的选择方案为，第一场战斗小杨选择第一种武器，第二场战斗小杨选择第二种武器。

### 数据规模与约定

| 子任务编号 | 数据点占比 | $n$ | $m$ |
| :-: | :-: | :-: | :-: |
| $1$ | $20\\%$ | $=1$ | $\\leq 10^5$ |
| $2$ | $20\\%$ | $\\leq 10^5$ | $=2$ |
| $3$ | $60\\%$ | $\\leq 10^5$ | $\\leq 10^5$ |

对全部的测试数据，保证 $1 \\leq n, m \\leq 10^5$，$-10^4 \\leq c_i, a_i \\leq 10^4$。`,
  },
  // ========== 2024年12月 ==========
  {
    title: "[GESP202412 五级] 奇妙数字",
    source: "gesp_official",
    sourceId: "B4070",
    sourceUrl: "https://www.luogu.com.cn/problem/B4070",
    level: 5,
    knowledgePoints: ["质因数分解", "数论", "贪心"],
    difficulty: "普及/提高-",
    description: `小杨认为一个数字 $x$ 是奇妙数字当且仅当 $x=p^a$，其中 $p$ 为任意质数且 $a$ 为正整数。例如，$8=2^3$，所以 $8$ 是奇妙的，而 $6$ 不是。

对于一个正整数 $n$，小杨想要构建一个包含 $m$ 个奇妙数字的集合 $\\{x_1,x_2,\\cdots,x_m\\}$，使其满足以下条件：
- 集合中不包含相同的数字。
- $x_1\\times x_2\\times \\cdots\\times x_m$ 是 $n$ 的因子（即 $x_1,x_2,\\cdots,x_m$ 这 $m$ 个数字的乘积是 $n$ 的因子）。

小杨希望集合包含的奇妙数字尽可能多，请你帮他计算出满足条件的集合最多包含多少个奇妙数字。`,
    inputFormat: `第一行包含一个正整数 $n$，含义如题面所示。`,
    outputFormat: `输出一个正整数，代表满足条件的集合最多包含的奇妙数字个数。`,
    samples: [
      { input: "128", output: "3" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "128", output: "3" },
      // 极端测试用例
      { input: "2", output: "1" },  // 最小值，只有2
      { input: "4", output: "1" },  // 4=2^2，1+2=3>2，只能选1个(2或4)
      { input: "6", output: "2" },  // 6=2*3，可选{2,3}
      { input: "8", output: "2" },  // 8=2^3，1+2=3≤3，可选{2,4}
      { input: "12", output: "2" },  // 12=2^2*3，从2^2选1个+从3选1个=2
      { input: "16", output: "2" },  // 16=2^4，1+2=3≤4，可选{2,4}
      { input: "30", output: "3" },  // 30=2*3*5，可选{2,3,5}
      { input: "64", output: "3" },  // 64=2^6，1+2+3=6≤6，可选{2,4,8}
      { input: "1000", output: "4" },  // 1000=2^3*5^3，2个+2个=4
      { input: "1000000", output: "6" },  // 10^6=2^6*5^6，3个+3个=6
      { input: "1000000000000", output: "8" },  // 10^12=2^12*5^12，4+4=8 (1+2+3+4=10≤12)
      { input: "720720", output: "7" },  // 720720=2^4*3^2*5*7*11*13，2+1+1+1+1+1=7
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `#### 样例解释

关于本样例，符合题意的一个包含 $3$ 个奇妙数字的集合是 $\\{2,4,8\\}$。首先，因为 $2=2^1$，$4=2^2$，$8=2^3$，所以 $2,4,8$ 均为奇妙数字。同时，$2\\times 4\\times 8=64$ 是 $128$ 的的因子。

由于无法找到符合题意且同时包含 $4$ 个奇妙数字的集合，因此本样例的答案为 $3$。

#### 数据范围

对于 $100\\%$ 的数据，保证 $2\\le n\\le 10^{12}$。

| 子任务编号 | 得分占比 | $n$ |
| :--: | :--: | :--: |
| $1$ | $20\\%$ | $\\le 10$ |
| $2$ | $20\\%$ | $\\le 1\\,000$ |
| $3$ | $60\\%$ | $\\le 10^{12}$ |`,
  },
  {
    title: "[GESP202412 五级] 武器强化",
    source: "gesp_official",
    sourceId: "B4071",
    sourceUrl: "https://www.luogu.com.cn/problem/B4071",
    level: 5,
    knowledgePoints: ["贪心", "排序", "模拟"],
    difficulty: "普及/提高-",
    description: `小杨有 $n$ 种武器和 $m$ 种强化材料。第 $i$ 种强化材料会适配第 $p_i$ 种武器，小杨可以花费 $c_i$ 金币将该材料对应的适配武器修改为任意武器。

小杨最喜欢第 $1$ 种武器，因此他希望适配该武器的强化材料种类数**严格大于**其他的武器，请你帮小杨计算为了满足该条件最少需要花费多少金币。`,
    inputFormat: `第一行包含两个正整数 $n,m$，含义如题面所示。

之后 $m$ 行，每行包含两个正整数 $p_i,c_i$，代表第 $i	$ 种强化材料的适配武器和修改花费。`,
    outputFormat: `输出一个整数，代表能够使适配第 $1$ 种武器的强化材料种类数**严格大于**其他的武器最少需要花费的金币。`,
    samples: [
      { input: "4 4\n1 1\n2 1\n3 1\n3 2", output: "1" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "4 4\n1 1\n2 1\n3 1\n3 2", output: "1" },
      // 极端测试用例
      { input: "2 1\n2 100", output: "100" },  // 最小情况，必须把唯一材料改到武器1
      { input: "2 2\n1 10\n2 20", output: "20" },  // 需要把武器2的改到武器1
      { input: "2 3\n1 10\n1 20\n2 30", output: "0" },  // 武器1已有2个，武器2有1个，已满足
      { input: "3 3\n1 100\n1 200\n1 300", output: "0" },  // 全在武器1，已满足
      { input: "2 4\n2 1\n2 2\n2 3\n2 4", output: "6" },  // 全在武器2，需要移3个到武器1
      { input: "3 6\n1 10\n2 20\n2 30\n3 40\n3 50\n3 60", output: "60" },  // 武器1有1个，武器2有2个，武器3有3个，需要武器1严格大于所有，至少需要4个
      { input: "2 2\n1 1000000000\n2 1000000000", output: "1000000000" },  // 大数花费
      { input: "1 1\n1 1", output: "0" },  // 只有1把武器，天然满足
      { input: "2 1\n1 1", output: "0" },  // 武器1有1个，其他都是0，满足
      { input: "3 5\n2 1\n2 2\n3 3\n3 4\n3 5", output: "6" },  // 武器2有2个，武器3有3个，武器1需要4个，移3个最便宜的(1+2+3=6)
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `#### 样例解释

花费 $1$，将第三种强化材料的适配武器由 $3$ 改为 $1$。此时，武器 $1$ 有 $2$ 种强化材料适配，武器 $2$ 和武器 $3$ 都各有 $1$ 种强化材料适配，满足适配第 $1$ 种武器的强化材料种类数**严格大于**其他的武器。

#### 数据范围

对于 $100\\%$ 的数据，保证 $1\\le n,m\\le 1\\, 000$，$1\\le p_i\\le n$，$1\\le c_i\\le 10^9$。

| 子任务编号 | 得分占比 | $n$ | $m$ |
| :--: | :--: | :--: | :--: |
| $1$ | $20\\%$ | $\\le 2$ | $\\le 1\\, 000$ |
| $2$ | $20\\%$ | $\\le 1\\,000$ | $\\le 2$ |
| $3$ | $60\\%$ | $\\le 1\\, 000$ | $\\le 1\\, 000$ |`,
  },
  // ========== 2025年3月 ==========
  {
    title: "[GESP202503 五级] 平均分配",
    source: "gesp_official",
    sourceId: "P11960",
    sourceUrl: "https://www.luogu.com.cn/problem/P11960",
    level: 5,
    knowledgePoints: ["贪心", "排序", "差值"],
    difficulty: "普及/提高-",
    description: `小 A 有 $2n$ 件物品，小 B 和小 C 想从小 A 手上买走这些物品。对于第 $i$ 件物品，小 B 会以 $b_i$ 的价格购买，而小 C 会以 $c_i$ 的价格购买。为了平均分配这 $2n$ 件物品，小 A 决定小 B 和小 C 各自只能买走恰好 $n$ 件物品。你能帮小 A 求出他卖出这 $2n$ 件物品所能获得的最大收入吗？`,
    inputFormat: `第一行，一个正整数 $n$。

第二行，$2n$ 个整数 $b_1,b_2,\\dots,b_{2n}$。

第三行，$2n$ 个整数 $c_1,c_2,\\dots,c_{2n}$。`,
    outputFormat: `一行，一个整数，表示答案。`,
    samples: [
      { input: "3\n1 3 5 6 8 10\n2 4 6 7 9 11", output: "36" },
      { input: "2\n6 7 9 9\n1 2 10 12", output: "35" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "3\n1 3 5 6 8 10\n2 4 6 7 9 11", output: "36" },
      { input: "2\n6 7 9 9\n1 2 10 12", output: "35" },
      // 极端测试用例
      { input: "1\n10 20\n15 25", output: "35" },  // 最小情况，选各自最大
      { input: "1\n100 0\n0 100", output: "200" },  // 互补情况
      { input: "2\n10 10 10 10\n10 10 10 10", output: "40" },  // 全相同
      { input: "2\n1 2 3 4\n4 3 2 1", output: "14" },  // 相反顺序
      { input: "3\n0 0 0 0 0 0\n100 100 100 100 100 100", output: "300" },  // B全0
      { input: "3\n100 100 100 100 100 100\n0 0 0 0 0 0", output: "300" },  // C全0
      { input: "2\n1000000000 0 0 0\n0 0 0 1000000000", output: "2000000000" },  // 大数边界
      { input: "1\n5 5\n5 5", output: "10" },  // 完全相同
      { input: "2\n10 20 30 40\n40 30 20 10", output: "140" },  // B买30+40，C买40+30，总140
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `#### 数据范围

对于 $20\\%$ 的测试点，保证 $1\\le n\\le8$。

对于另外 $20\\%$ 的测试点，保证 $0\\le b_i\\le1$，$0\\le  c_i\\le1$。

对于所有测试点，保证 $1\\le n\\le10^5$，$0\\le b_i\\le10^9$，$0\\le c_i\\le10^9$。`,
  },
  {
    title: "[GESP202503 五级] 原根判断",
    source: "gesp_official",
    sourceId: "P11961",
    sourceUrl: "https://www.luogu.com.cn/problem/P11961",
    level: 5,
    knowledgePoints: ["数论", "快速幂", "费马小定理"],
    difficulty: "提高+/省选-",
    description: `小 A 知道，对于质数 $p$ 而言，$p$ 的原根 $g$ 是满足以下条件的正整数：

+ $1<g<p$；
+ $g^{p-1}\\bmod{p}=1$；
+ 对于任意 $1\\le i<p-1$ 均有 $g^i\\bmod{p}\\neq1$。

其中 $a\\bmod{p}$ 表示 $a$ 除以 $p$ 的余数。

小 A 现在有一个整数 $a$，请你帮他判断 $a$ 是不是 $p$ 的原根。`,
    inputFormat: `第一行，一个正整数 $T$，表示测试数据组数。

每组测试数据包含一行，两个正整数 $a,p$。`,
    outputFormat: `对于每组测试数据，输出一行，如果 $a$ 是 $p$ 的原根则输出 \`Yes\`，否则输出 \`No\`。`,
    samples: [
      { input: "3\n3 998244353\n5 998244353\n7 998244353", output: "Yes\nYes\nNo" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "3\n3 998244353\n5 998244353\n7 998244353", output: "Yes\nYes\nNo" },
      // 极端测试用例
      { input: "1\n2 3", output: "Yes" },  // 最小质数p=3，a=2是原根
      { input: "1\n2 5", output: "Yes" },  // p=5，a=2是原根
      { input: "1\n3 5", output: "Yes" },  // p=5，a=3是原根
      { input: "1\n4 5", output: "No" },  // p=5，a=4不是原根(4^2=16≡1 mod 5)
      { input: "1\n2 7", output: "No" },  // p=7，2^3≡1 mod 7，阶为3≠6，不是原根
      { input: "1\n3 7", output: "Yes" },  // p=7，a=3是原根
      { input: "1\n5 7", output: "Yes" },  // p=7，a=5是原根
      { input: "1\n6 7", output: "No" },  // p=7，a=6不是原根(6≡-1, 6^2≡1)
      { input: "1\n2 11", output: "Yes" },  // p=11，a=2是原根
      { input: "1\n10 11", output: "No" },  // p=11，a=10≡-1不是原根
      { input: "5\n2 3\n2 5\n2 7\n2 11\n2 13", output: "Yes\nYes\nNo\nYes\nYes" },  // 多组测试
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `#### 数据范围

对于 $40\\%$ 的测试点，保证 $3\\le p\\le10^3$。

对于所有测试点，保证 $1\\le T\\le20$，$3\\le p\\le10^9$，$1<a<p$，$p$ 为质数。`,
  },
  // ========== 2025年6月 ==========
  {
    title: "[GESP202506 五级] 奖品兑换",
    source: "gesp_official",
    sourceId: "P13013",
    sourceUrl: "https://www.luogu.com.cn/problem/P13013",
    level: 5,
    knowledgePoints: ["二分查找", "贪心", "数学"],
    difficulty: "普及/提高-",
    description: `班主任给上课专心听讲、认真完成作业的同学们分别发放了若干张课堂优秀券和作业优秀券。同学们可以使用这两种券找班主任兑换奖品。具体来说，可以使用 $a$ 张课堂优秀券和 $b$ 张作业优秀券兑换一份奖品，或者使用 $b$ 张课堂优秀券和 $a$ 张作业优秀券兑换一份奖品。

现在小 A 有 $n$ 张课堂优秀券和 $m$ 张作业优秀券，他最多能兑换多少份奖品呢？`,
    inputFormat: `第一行，两个正整数 $n,m$，分别表示小 A 持有的课堂优秀券和作业优秀券的数量。

第二行，两个正整数 $a,b$，表示兑换一份奖品所需的两种券的数量。`,
    outputFormat: `输出共一行，一个整数，表示最多能兑换的奖品份数。`,
    samples: [
      { input: "8 8\n2 1", output: "5" },
      { input: "314159 2653589\n27 1828", output: "1599" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "8 8\n2 1", output: "5" },
      { input: "314159 2653589\n27 1828", output: "1599" },
      // 极端测试用例
      { input: "1 1\n1 1", output: "1" },  // 最小情况
      { input: "3 3\n1 1", output: "3" },  // a=b=1
      { input: "10 10\n5 5", output: "2" },  // a=b
      { input: "10 0\n1 2", output: "0" },  // m=0，无法兑换
      { input: "0 10\n1 2", output: "0" },  // n=0，无法兑换
      { input: "100 100\n10 1", output: "18" },  // 不对称兑换
      { input: "5 15\n2 3", output: "2" },  // 课堂券是瓶颈，最多兑换2份
      { input: "1000000000 1000000000\n1 1", output: "1000000000" },  // 大数边界
      { input: "1000000000 1\n10000 1", output: "1" },  // 极端不平衡
      { input: "50 50\n7 3", output: "10" },  // 中等情况
    ],
    timeLimit: 400,
    memoryLimit: 256,
    hint: `对于 $60\\%$ 的测试点，保证 $1 \\le a,b \\le 100$，$1 \\le n,m \\le 500$。

对于所有测试点，保证 $1 \\le a,b \\le 10^4$，$1 \\le n,m \\le 10^9$。`,
  },
  {
    title: "[GESP202506 五级] 最大公因数",
    source: "gesp_official",
    sourceId: "P13014",
    sourceUrl: "https://www.luogu.com.cn/problem/P13014",
    level: 5,
    knowledgePoints: ["最大公约数", "辗转相除法", "数论"],
    difficulty: "普及-",
    description: `对于两个正整数 $a,b$，他们的最大公因数记为 $\\gcd(a,b)$。对于 $k > 3$ 个正整数 $c_1,c_2,\\dots,c_k$，他们的最大公因数为：

$$\\gcd(c_1,c_2,\\dots,c_k)=\\gcd(\\gcd(c_1,c_2,\\dots,c_{k-1}),c_k)$$

给定 $n$ 个正整数 $a_1,a_2,\\dots,a_n$ 以及 $q$ 组询问。对于第 $i(1 \\le i \\le q)$ 组询问，请求出 $a_1+i,a_2+i,\\dots,a_n+i$ 的最大公因数，也即 $\\gcd(a_1+i,a_2+i,\\dots,a_n+i)$。`,
    inputFormat: `第一行，两个正整数 $n,q$，分别表示给定正整数的数量，以及询问组数。

第二行，$n$ 个正整数 $a_1,a_2,\\dots,a_n$。`,
    outputFormat: `输出共 $q$ 行，第 $i$ 行包含一个正整数，表示 $a_1+i,a_2+i,\\dots,a_n+i$ 的最大公因数。`,
    samples: [
      { input: "5 3\n6 9 12 18 30", output: "1\n1\n3" },
      { input: "3 5\n31 47 59", output: "4\n1\n2\n1\n4" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "5 3\n6 9 12 18 30", output: "1\n1\n3" },
      { input: "3 5\n31 47 59", output: "4\n1\n2\n1\n4" },
      // 极端测试用例
      { input: "1 3\n10", output: "11\n12\n13" },  // 单个数，GCD就是本身
      { input: "2 3\n1 2", output: "1\n1\n1" },  // 连续数，GCD=1
      { input: "2 3\n2 4", output: "1\n2\n1" },  // 偶数差
      { input: "3 5\n6 12 18", output: "1\n2\n3\n2\n1" },  // 公差为6
      { input: "2 1\n1000 1000", output: "1001" },  // 相同数
      { input: "3 3\n1 1 1", output: "2\n3\n4" },  // 全为1
      { input: "4 2\n10 20 30 40", output: "1\n2" },  // 等差数列
      { input: "2 5\n5 10", output: "1\n1\n1\n1\n5" },  // gcd(6,11)=1,gcd(7,12)=1,...,gcd(10,15)=5
      { input: "3 4\n100 200 300", output: "1\n2\n1\n4" },  // 百位数
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `对于 $60\\%$ 的测试点，保证 $1 \\le n \\le 10^3$，$1 \\le q \\le 10$。

对于所有测试点，保证 $1 \\le n \\le 10^5$，$1 \\le q \\le 10^5$，$1 \\le a_i \\le 1000$。`,
  },
  // ========== 2025年9月 ==========
  {
    title: "[GESP202509 五级] 数字选取",
    source: "gesp_official",
    sourceId: "P14073",
    sourceUrl: "https://www.luogu.com.cn/problem/P14073",
    level: 5,
    knowledgePoints: ["数论", "互质", "贪心"],
    difficulty: "普及-",
    description: `给定正整数 $n$，现在有 $1,2,\\ldots,n$ 共计 $n$ 个整数。你需要从这 $n$ 个整数中选取一些整数，使得所选取的整数中任意两个不同的整数均互质（也就是说，这两个整数的最大公因数为 $1$）。请你最大化所选取整数的数量。

例如，当 $n=9$ 时，可以选择 $1,5,7,8,9$ 共计 $5$ 个整数。可以验证不存在数量更多的选取整数的方案。`,
    inputFormat: `一行，一个正整数 $n$，表示给定的正整数。`,
    outputFormat: `一行，一个正整数，表示所选取整数的最大数量。`,
    samples: [
      { input: "6", output: "4" },
      { input: "9", output: "5" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "6", output: "4" },
      { input: "9", output: "5" },
      // 极端测试用例
      { input: "1", output: "1" },  // 最小值，只有1
      { input: "2", output: "2" },  // 1和2互质
      { input: "3", output: "3" },  // 1,2,3中1和任何数互质，2和3互质
      { input: "4", output: "3" },  // 1,2,3互质，但2和4不互质
      { input: "5", output: "4" },  // 1,2,3,5
      { input: "10", output: "5" },  // 1和所有质数:2,3,5,7
      { input: "20", output: "9" },  // 1+质数个数
      { input: "100", output: "26" },  // 1+25个质数
      { input: "1000", output: "169" },  // 1+168个质数
      { input: "100000", output: "9593" },  // 大数边界
      { input: "50", output: "16" },  // 中等规模
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `对于 $40\\%$ 的测试点，保证 $1\\le n\\le 1000$。

对于所有测试点，保证 $1\\le n\\le 10^5$。`,
  },
  {
    title: "[GESP202509 五级] 有趣的数字和",
    source: "gesp_official",
    sourceId: "P14074",
    sourceUrl: "https://www.luogu.com.cn/problem/P14074",
    level: 5,
    knowledgePoints: ["位运算", "二进制", "数学"],
    difficulty: "普及/提高-",
    description: `如果一个正整数的二进制表示包含奇数个 $1$，那么小 A 就会认为这个正整数是有趣的。

例如，$7$ 的二进制表示为 $(111)_2$，包含 $1$ 的个数为 $3$ 个，所以 $7$ 是有趣的。但是 $9=(1001)_2$ 包含 $2$ 个 $1$，所以 $9$ 不是有趣的。

给定正整数 $l,r$，请你统计满足 $l\\le n\\le r$ 的有趣的整数 $n$ 之和。`,
    inputFormat: `一行，两个正整数 $l,r$，表示给定的正整数。`,
    outputFormat: `一行，一个正整数，表示 $l,r$ 之间有趣的整数之和。`,
    samples: [
      { input: "3 8", output: "19" },
      { input: "65 36248", output: "328505490" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "3 8", output: "19" },
      { input: "65 36248", output: "328505490" },
      // 极端测试用例
      { input: "1 1", output: "1" },  // 1有1个1(奇)
      { input: "1 2", output: "3" },  // 1+2=3，都有奇数个1
      { input: "1 3", output: "3" },  // 1,2有奇数个1；3=11有2个1(偶)不算
      { input: "1 7", output: "14" },  // 1+2+4+7=14
      { input: "1 15", output: "60" },  // 1,2,4,7,8,11,13,14都有奇数个1
      { input: "7 7", output: "7" },  // 7=111有3个1(奇)
      { input: "8 8", output: "8" },  // 8=1000有1个1(奇)
      { input: "10 20", output: "73" },  // 11+13+14+16+19=73
      { input: "100 200", output: "7675" },  // [100,127]和1589+[128,191]和5104+[192,200]和982=7675
      { input: "1 1000000000", output: "250000000500000000" },  // 大数边界，需要long long
    ],
    timeLimit: 500,
    memoryLimit: 256,
    hint: `**【数据范围】**

对于 $40\\%$ 的测试点，保证 $1\\le l\\le r\\le 10^4$。

对于另外 $30\\%$ 的测试点，保证 $l=1$ 并且 $r=2^k-1$，其中 $k$ 是大于 $1$ 的正整数。

对于所有测试点，保证 $1 \\le l\\le r\\le 10^9$。

**【提示】**

由于本题的数据范围较大，整数类型请使用 long long。`,
  },
  // ========== 2025年12月 ==========
  {
    title: "[GESP202512 五级] 数字移动",
    source: "gesp_official",
    sourceId: "P14917",
    sourceUrl: "https://www.luogu.com.cn/problem/P14917",
    level: 5,
    knowledgePoints: ["贪心", "模拟", "二分"],
    difficulty: "普及/提高-",
    description: `小 A 有一个包含 $N$ 个正整数的序列 $A=\\{A_1,A_2,\\cdots,A_N\\}$，序列 $A$ 恰好包含 $\\frac{N}{2}$ 对不同的正整数。形式化地，对于任意 $1 \\le i \\le N$，存在唯一一个 $j$ 满足 $1\\le j \\le N, i\\neq j, A_i=A_j$。

小 A 希望每对相同的数字在序列中相邻，为了实现这一目的，小 A 每次操作会选择任意 $i(1\\le i\\le N)$，将当前序列的第 $i$ 个数字移动到任意位置，并花费对应数字的体力。

例如，假设序列 $A=\\{1,2,1,3,2,3\\}$，小 A 可以选择 $i=2$，将 $A_2=2$ 移动到 $A_3=1$ 的后面，此时序列变为 $\\{1,1,2,3,2,3\\}$，耗费 $2$ 点体力。小 A 也可以选择 $i=3$，将 $A_3=1$ 移动到 $A_2=2$ 的前面，此时序列变为 $\\{1,1,2,3,2,3\\}$，花费 $1$ 点体力。

小 A 可以执行任意次操作，但他希望自己每次花费的体力尽可能小。小 A 希望你能帮他计算出一个最小的 $x$，使得他能够在每次花费的体力均不超过 $x$ 的情况下令每对相同的数字在序列中相邻。`,
    inputFormat: `第一行一个正整数 $N$，代表序列长度，保证 $N$ 为偶数。

第二行包含 $N$ 个正整数 $A_1,A_2,\\ldots,A_N$，代表序列 $A$。且对于任意 $1\\le i\\le N$，存在唯一一个 $j$ 满足 $1\\le j\\le N,i\\neq j,A_i=A_j$。

数据保证小 A 至少需要执行一次操作。`,
    outputFormat: `输出一行，代表满足要求的 $x$ 的最小值。`,
    samples: [
      { input: "6\n1 2 1 3 2 3", output: "2" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "6\n1 2 1 3 2 3", output: "2" },
      // 极端测试用例
      { input: "4\n1 2 2 1", output: "1" },  // 移动1相邻
      { input: "4\n1 2 1 2", output: "1" },  // 交错，移动1即可相邻
      { input: "4\n2 1 1 2", output: "1" },  // 移除两个1后[2,2]相邻，x=1即可
      { input: "6\n1 2 3 1 2 3", output: "2" },  // 交错排列
      { input: "8\n1 2 3 4 1 2 3 4", output: "3" },  // 更多数对
      { input: "4\n2 1 2 1", output: "1" },  // 简单交错
      { input: "6\n3 2 1 3 2 1", output: "2" },  // 移2到末尾+移两个1到末尾→[3,3,2,2,1,1]，最大花费2
      { input: "10\n1 2 3 4 5 1 2 3 4 5", output: "4" },  // 5对数
      { input: "4\n100 1 100 1", output: "1" },  // 大数值
      { input: "6\n10 20 30 10 20 30", output: "20" },  // 移动代价不同
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `对于 $40\\%$ 的测试点，保证 $1\\le N,A_i\\le 100$。

对于所有测试点，保证 $1\\le N,A_i\\le 10^5$。`,
  },
  {
    title: "[GESP202512 五级] 相等序列",
    source: "gesp_official",
    sourceId: "P14918",
    sourceUrl: "https://www.luogu.com.cn/problem/P14918",
    level: 5,
    knowledgePoints: ["质因数分解", "数论", "贪心"],
    difficulty: "普及/提高-",
    description: `小 A 有一个包含 $N$ 个正整数的序列 $A=\\{A_1,A_2,\\ldots,A_N\\}$。小 A 每次可以花费 $1$ 个金币执行以下任意一种操作：

- 选择序列中一个正整数 $A_i$（$1\\le i\\le N$），将 $A_i$ 变为 $A_i\\times P$，$P$ 为任意质数；
- 选择序列中一个正整数 $A_i$（$1\\le i\\le N$），将 $A_i$ 变为 $\\frac{A_i}{P}$，$P$ 为任意质数，要求 $A_i$ 是 $P$ 的倍数。

小 A 想请你帮他计算出令序列中所有整数都相同，最少需要花费多少金币。`,
    inputFormat: `第一行一个正整数 $N$，含义如题面所示。

第二行包含 $N$ 个正整数 $A_1,A_2,\\ldots,A_N$，代表序列 $A$。`,
    outputFormat: `输出一行，代表最少需要花费的金币数量。`,
    samples: [
      { input: "5\n10 6 35 105 42", output: "8" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "5\n10 6 35 105 42", output: "8" },
      // 极端测试用例
      { input: "1\n1", output: "0" },  // 单个数，已相等
      { input: "2\n1 1", output: "0" },  // 已相等
      { input: "2\n2 3", output: "2" },  // 质数，需要2变成3或3变成2
      { input: "2\n4 6", output: "2" },  // 4=2^2, 6=2*3，变成2需要2+1=3步
      { input: "3\n2 4 8", output: "2" },  // 变成4需要1+0+1=2步（比变成2的0+1+2=3步更优）
      { input: "3\n6 10 15", output: "3" },  // 目标30=2×3×5，每个加1个质因子
      { input: "4\n1 1 1 1", output: "0" },  // 全为1
      { input: "3\n2 2 2", output: "0" },  // 全相等
      { input: "2\n1 100000", output: "10" },  // 100000=2^5×5^5，变成1需要10步
      { input: "5\n2 3 5 7 11", output: "5" },  // 全变成1，每个除1次=5步
      { input: "3\n12 18 24", output: "3" },  // 全变成12：18→12需2步，24→12需1步
      { input: "2\n100000 100000", output: "0" },  // 大数相等
    ],
    timeLimit: 1000,
    memoryLimit: 256,
    hint: `对于 $60\\%$ 的测试点，保证 $1\\le N,A_i\\le 100$。

对于所有测试点，保证 $1\\le N,A_i\\le 10^5$。`,
  },
  // ========== 练习题（非 GESP 官方题） ==========
  {
    title: "[USACO09OCT] Barn Echoes G",
    source: "gesp_practice",
    sourceId: "P2957",
    sourceUrl: "https://www.luogu.com.cn/problem/P2957",
    level: 5,
    knowledgePoints: ["字符串", "前缀与后缀", "枚举"],
    difficulty: "普及-",
    description: `奶牛们非常享受在牛栏中哞叫，因为她们可以听到她们哞声的回音。虽然有时候并不能完全听到完整的回音。Bessie 曾经是一个出色的秘书，所以她精确地纪录了所有的哞叫声及其回声。她很好奇到底两个声音的重复部分有多长。

输入两个字符串（长度为 $1$ 到 $80$ 个字母），表示两个哞叫声。你要确定最长的重复部分的长度。两个字符串的重复部分指的是同时是一个字符串的前缀和另一个字符串的后缀的字符串。

我们通过一个例子来理解题目。考虑下面的两个哞声：

\`\`\`
moyooyoxyzooo
yzoooqyasdfljkamo
\`\`\`

第一个串的最后的部分 \`yzooo\` 跟第二个串的第一部分重复。第二个串的最后的部分 \`mo\` 跟第一个串的第一部分重复。所以 \`yzooo\` 跟 \`mo\` 都是这 $2$ 个串的重复部分。其中，\`yzooo\` 比较长，所以最长的重复部分的长度就是 $5$。`,
    inputFormat: `两行字符串，表示一只奶牛的哞叫声及其回声。`,
    outputFormat: `一行一个整数，表示两个声音的重复部分有多长。`,
    samples: [
      { input: "abcxxxxabcxabcd\nabcdxabcxxxxabcx", output: "11" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "abcxxxxabcxabcd\nabcdxabcxxxxabcx", output: "11" },
      // 极端测试用例 (14个)
      { input: "a\na", output: "1" },  // 单字符相同
      { input: "a\nb", output: "0" },  // 单字符不同，无匹配
      { input: "ab\nba", output: "1" },  // 前后缀各1字符匹配
      { input: "abc\nabc", output: "3" },  // 完全相同字符串
      { input: "abcdef\ndefabc", output: "3" },  // 前缀/后缀交叉匹配
      { input: "aaaa\naaaa", output: "4" },  // 全相同字符，完全匹配
      { input: "xyz\nabc", output: "0" },  // 完全不匹配
      { input: "aaaaab\nbaaaaa", output: "5" },  // s1前缀aaaaa=s2后缀aaaaa
      { input: "abcabcabc\nabcabc", output: "6" },  // 重复模式，s2前缀abcabc=s1后缀abcabc
      { input: "aaaaaaaaaa\naaaaaaaaaa", output: "10" },  // 10个a完全匹配
      { input: "abcxyz\nxyzabc", output: "3" },  // 双向各匹配3
      { input: "hello\nworld", output: "0" },  // 无任何匹配
      { input: "abababab\nabababab", output: "8" },  // 完全相同的交替模式
      { input: "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzza\nazzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz", output: "79" },  // 80字符极限长度，s1前缀79个z匹配s2后缀79个z
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `"abcxxxxabcx"是两个字符串的重复部分（第一个字符串的前缀和第二个字符串的后缀），所以答案为 $11$。`,
  },
  {
    title: "Shortest path of the king",
    source: "gesp_practice",
    sourceId: "CF3A",
    sourceUrl: "https://www.luogu.com.cn/problem/CF3A",
    level: 5,
    knowledgePoints: ["模拟", "贪心", "棋盘"],
    difficulty: "普及-",
    description: `国王独自一人在国际象棋棋盘上。尽管他很孤独，但他并不会灰心，因为他有国家大事要做。例如，他必须对方格 $t$ 进行访问。因为国王没有浪费时间的习惯，所以他想从目前的位置（方格 $s$）上出发，走最少的步数。请你帮他做这件事。

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF3A/5ee13bc754378d9b20e7cf9389534f02014d55d0.png)

在一次移动中，国王可以到达与他目前所在方格有共同的边或共同的顶点的方格里（通常情况下，他可以移动到 $8$ 个不同的方格里）。`,
    inputFormat: `第一行包含方格 $s$ 的棋盘坐标，第二行包含方格 $t$ 的棋盘坐标。

棋盘坐标由两个字符组成，第一个是从 \`a\` 到 \`h\` 的小写拉丁字母，第二个是从 \`1\` 到 \`8\` 的数字。具体情况如上图所示。`,
    outputFormat: `在第一行输出 $n$——国王移动的最小步数。然后接下来 $n$ 行输出移动的每一步。每次移动用 \`L\`、\`R\`、\`U\`、\`D\`、\`LU\`、\`LD\`、\`RU\` 或 \`RD\` 中的一个来描述。

\`L\`、\`R\`、\`U\`、\`D\` 分别指向左、向右、向上和向下移动，两个字母的组合代表沿着对角线移动（如 \`RU\` 代表向右上方移动）。如果答案不唯一，请输出任意一个答案。`,
    samples: [
      { input: "a8\nh1", output: "7\nRD\nRD\nRD\nRD\nRD\nRD\nRD" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "a8\nh1", output: "7\nRD\nRD\nRD\nRD\nRD\nRD\nRD" },
      // 极端测试用例 (14个)
      { input: "a1\na1", output: "0" },  // 起点=终点
      { input: "a1\na2", output: "1\nU" },  // 相邻上移1步
      { input: "a1\nb1", output: "1\nR" },  // 相邻右移1步
      { input: "a1\nb2", output: "1\nRU" },  // 相邻对角1步
      { input: "a1\nh8", output: "7\nRU\nRU\nRU\nRU\nRU\nRU\nRU" },  // 左下→右上，最大距离7
      { input: "h8\na1", output: "7\nLD\nLD\nLD\nLD\nLD\nLD\nLD" },  // 右上→左下，最大距离7
      { input: "a1\na8", output: "7\nU\nU\nU\nU\nU\nU\nU" },  // 纯垂直向上7步
      { input: "a1\nh1", output: "7\nR\nR\nR\nR\nR\nR\nR" },  // 纯水平向右7步
      { input: "h1\na8", output: "7\nLU\nLU\nLU\nLU\nLU\nLU\nLU" },  // 右下→左上7步
      { input: "d4\ne6", output: "2\nRU\nU" },  // 中部短距离，先对角后直线
      { input: "e4\ne4", output: "0" },  // 中心点自到自
      { input: "a1\nc5", output: "4\nRU\nRU\nU\nU" },  // dx=2,dy=4，先2步对角再2步直线
      { input: "h8\nh1", output: "7\nD\nD\nD\nD\nD\nD\nD" },  // 纯垂直向下7步
      { input: "b2\ng7", output: "5\nRU\nRU\nRU\nRU\nRU" },  // dx=dy=5，纯对角5步
    ],
    timeLimit: 1000,
    memoryLimit: 64,
    hint: ``,
  },
  {
    title: "跳跳！",
    source: "gesp_practice",
    sourceId: "P4995",
    sourceUrl: "https://www.luogu.com.cn/problem/P4995",
    level: 5,
    knowledgePoints: ["贪心", "排序"],
    difficulty: "普及-",
    description: `你是一只小跳蛙，你特别擅长在各种地方跳来跳去。

这一天，你和朋友小 F 一起出去玩耍的时候，遇到了一堆高矮不同的石头，其中第 $i$ 块的石头高度为 $h_i$，地面的高度是 $h_0 = 0$。你估计着，从第 $i$ 块石头跳到第 $j$ 块石头上耗费的体力值为 $(h_i - h_j) ^ 2$，从地面跳到第 $i$ 块石头耗费的体力值是 $(h_i) ^ 2$。

为了给小 F 展现你超级跳的本领，你决定跳到每个石头上各一次，并最终停在任意一块石头上，并且小跳蛙想耗费**尽可能多**的体力值。

当然，你只是一只小跳蛙，你只会跳，不知道怎么跳才能让本领更充分地展现。

不过你有救啦！小 F 给你递来了一个写着 AK 的电脑，你可以使用计算机程序帮你解决这个问题，万能的计算机会告诉你怎么跳。

那就请你——会写代码的小跳蛙——写下这个程序，为你 NOIp AK 踏出坚实的一步吧！`,
    inputFormat: `输入一行一个正整数 $n$，表示石头个数。

输入第二行 $n$ 个正整数，表示第 $i$ 块石头的高度 $h_i$。`,
    outputFormat: `输出一行一个正整数，表示你可以耗费的体力值的最大值。`,
    samples: [
      { input: "2\n2 1", output: "5" },
      { input: "3\n6 3 5", output: "49" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "2\n2 1", output: "5" },
      { input: "3\n6 3 5", output: "49" },
      // 极端测试用例 (13个)
      { input: "1\n1", output: "1" },  // 最小n=1，最小高度
      { input: "1\n10000", output: "100000000" },  // n=1，最大高度 10000^2
      { input: "2\n1 10000", output: "199980001" },  // 两块极端高度差
      { input: "3\n1 2 3", output: "14" },  // 小连续数 0→3→1→2
      { input: "4\n1 2 3 4", output: "30" },  // 4个连续 0→4→1→3→2
      { input: "5\n1 2 3 4 5", output: "55" },  // 5个连续
      { input: "2\n9999 10000", output: "100000001" },  // 两块接近极值
      { input: "3\n1 5000 10000", output: "224970002" },  // 三块均匀分布
      { input: "4\n1 2 9999 10000", output: "399880014" },  // 两端极值聚集
      { input: "5\n100 200 300 400 500", output: "550000" },  // 等差中等数据
      { input: "6\n1 10 100 1000 5000 10000", output: "251660202" },  // 跨度大的6个
      { input: "3\n3333 6666 9999", output: "155524446" },  // 等差大数3个
      { input: "10\n1000 2000 3000 4000 5000 6000 7000 8000 9000 10000", output: "385000000" },  // n=10等差大数
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `#### 样例解释

两个样例按照输入给定的顺序依次跳上去就可以得到最优方案之一。

#### 数据范围
对于 $1 \\leq i \\leq n$，有 $0 < h_i \\leq 10 ^ 4$，且保证 $h_i$ 互不相同。

对于 $10\\%$ 的数据，$n \\leq 3$；

对于 $20\\%$ 的数据，$n \\leq 10$；

对于 $50\\%$ 的数据，$n \\leq 20$；

对于 $80\\%$ 的数据，$n \\leq 50$；

对于 $100\\%$ 的数据，$n \\leq 300$。`,
  },
  {
    title: "[USACO1.3] 混合牛奶 Mixing Milk",
    source: "gesp_practice",
    sourceId: "P1208",
    sourceUrl: "https://www.luogu.com.cn/problem/P1208",
    level: 5,
    knowledgePoints: ["贪心", "排序", "模拟"],
    difficulty: "普及-",
    description: `由于乳制品产业利润很低，所以降低原材料（牛奶）价格就变得十分重要。帮助 Marry 乳业找到最优的牛奶采购方案。

Marry 乳业从一些奶农手中采购牛奶，并且每一位奶农为乳制品加工企业提供的价格可能相同。此外，就像每头奶牛每天只能挤出固定数量的奶，每位奶农每天能提供的牛奶数量是一定的。每天 Marry 乳业可以从奶农手中采购到小于或者等于奶农最大产量的整数数量的牛奶。

给出 Marry 乳业每天对牛奶的需求量，还有每位奶农提供的牛奶单价和产量。计算采购足够数量的牛奶所需的最小花费。

注：每天所有奶农的总产量不少于 Marry 乳业的需求量。`,
    inputFormat: `第一行二个整数 $n,m$，表示需要牛奶的总量，和提供牛奶的农民个数。

接下来 $m$ 行，每行两个整数 $p_i,a_i$，表示第 $i$ 个农民牛奶的单价，和农民 $i$ 一天最多能卖出的牛奶量。`,
    outputFormat: `单独的一行包含单独的一个整数，表示 Marry 的牛奶制造公司拿到所需的牛奶所要的最小费用。`,
    samples: [
      { input: "100 5\n5 20\n9 40\n3 10\n8 80\n6 30", output: "630" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "100 5\n5 20\n9 40\n3 10\n8 80\n6 30", output: "630" },
      // 极端测试用例 (14个)
      { input: "0 1\n5 20", output: "0" },  // 需求量为0
      { input: "1 1\n1000 2000000", output: "1000" },  // 单农户只买1单位
      { input: "10 3\n1 5\n2 5\n3 5", output: "15" },  // 1×5+2×5=15
      { input: "20 2\n5 10\n5 10", output: "100" },  // 两农户同价
      { input: "5 3\n10 10\n1 10\n5 10", output: "5" },  // 最便宜的够用
      { input: "15 3\n10 10\n1 10\n5 10", output: "35" },  // 1×10+5×5=35
      { input: "30 3\n10 10\n1 10\n5 10", output: "160" },  // 三家全买 1×10+5×10+10×10
      { input: "2000000 1\n1000 2000000", output: "2000000000" },  // 极大需求量
      { input: "1000000 3\n1 500000\n2 500000\n3 500000", output: "1500000" },  // 大需求多农户
      { input: "3 3\n100 1\n200 1\n300 1", output: "600" },  // 每家产量仅1
      { input: "0 1\n0 0", output: "0" },  // 全零
      { input: "1 1\n0 2000000", output: "0" },  // 免费牛奶
      { input: "10 3\n1 10\n1 10\n1 10", output: "10" },  // 全同价
      { input: "2000000 2\n1 1000000\n2 1000000", output: "3000000" },  // 先买完便宜的再买贵的
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `【数据范围】
对于 $100\\%$ 的数据：
$0 \\le n,a_i \\le 2 \\times 10^6$，$0\\le m \\le 5000$，$0 \\le p_i \\le 1000$。

题目翻译来自 NOCOW。

USACO Training Section 1.3`,
  },
  {
    title: "高精度加法",
    source: "gesp_practice",
    sourceId: "P1601",
    sourceUrl: "https://www.luogu.com.cn/problem/P1601",
    level: 5,
    knowledgePoints: ["高精度", "大整数运算"],
    difficulty: "普及-",
    description: `给定两个非负整数 $a,b$，求它们的和。**不用考虑负数**。`,
    inputFormat: `输入共两行，每行一个非负整数，分别为 $a,b$。`,
    outputFormat: `输出一行一个非负整数，表示 $a+b$ 的值。`,
    samples: [
      { input: "1\n1", output: "2" },
      { input: "1001\n9099", output: "10100" },
    ],
    testCases: [
      // 原始样例 (2个)
      { input: "1\n1", output: "2" },
      { input: "1001\n9099", output: "10100" },
      // 极端测试用例 (13个)
      { input: "0\n0", output: "0" },  // 两个0
      { input: "0\n999999999999999999999999", output: "999999999999999999999999" },  // 0+大数
      { input: "999\n1", output: "1000" },  // 连续进位
      { input: "999999999999999999\n1", output: "1000000000000000000" },  // 18位全9进位
      { input: "123456789012345678901234567890\n987654321098765432109876543210", output: "1111111110111111111011111111100" },  // 30位大数相加
      { input: "99999999999999999999\n99999999999999999999", output: "199999999999999999998" },  // 20位全9+全9
      { input: "1\n0", output: "1" },  // 加0
      { input: "100000000000000000000\n1", output: "100000000000000000001" },  // 位数差距大
      { input: "99999999999999999999999999999999999999999999999999\n1", output: "100000000000000000000000000000000000000000000000000" },  // 50位全9进位
      { input: "55555555555555555555\n44444444444444444445", output: "100000000000000000000" },  // 相加刚好进位到21位
      { input: "11111111111111111111\n88888888888888888889", output: "100000000000000000000" },  // 另一组进位到21位
      { input: "50000000000000000000\n50000000000000000000", output: "100000000000000000000" },  // 两个相同大数
      { input: "999999999\n999999999", output: "1999999998" },  // 9位数边界(long long范围内)
    ],
    timeLimit: 1000,
    memoryLimit: 512,
    hint: `对于 $20\\%$ 的测试数据，$a,b \\le 10^9$；
对于 $40\\%$ 的测试数据，$a,b \\le 10^{18}$；
对于 $100\\%$ 的测试数据，$0\\le a,b \\le 10^{500}$。`,
  },
  {
    title: "高精度减法",
    source: "gesp_practice",
    sourceId: "P2142",
    sourceUrl: "https://www.luogu.com.cn/problem/P2142",
    level: 5,
    knowledgePoints: ["高精度", "大整数运算"],
    difficulty: "普及-",
    description: `给定两个正整数 $a,b$，求 $a-b$ 的值。`,
    inputFormat: `输入共两行，每行一个正整数，分别为 $a,b$。`,
    outputFormat: `输出一行一个整数，表示 $a-b$ 的值。

如果 $a-b<0$，**请输出负号**。`,
    samples: [
      { input: "2\n1", output: "1" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "2\n1", output: "1" },
      // 极端测试用例 (14个)
      { input: "1\n2", output: "-1" },  // 负数结果
      { input: "100\n100", output: "0" },  // 相等，结果为0
      { input: "1000\n1", output: "999" },  // 连续借位
      { input: "1000000000000000000\n1", output: "999999999999999999" },  // 18位大数借位
      { input: "1\n1000000000000000000", output: "-999999999999999999" },  // 结果为负的大数
      { input: "999999999999999999999999999999\n1", output: "999999999999999999999999999998" },  // 30位大数减1
      { input: "1\n999999999999999999999999999999", output: "-999999999999999999999999999998" },  // 负的30位大数
      { input: "10000000000\n9999999999", output: "1" },  // 连续借位差值为1
      { input: "123456789\n123456780", output: "9" },  // 小差值
      { input: "100000000000000000000000000000\n99999999999999999999999999999", output: "1" },  // 30位-29位=1
      { input: "1000000000000000000000\n999999999999999999999", output: "1" },  // 21位-21位全借位
      { input: "2\n2", output: "0" },  // 最小正整数相等
      { input: "99999999999999999999999999999999999999999999999999\n1", output: "99999999999999999999999999999999999999999999999998" },  // 50位大数减1
      { input: "50000000000000000000\n49999999999999999999", output: "1" },  // 20位数差1
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `对于 $20\\%$ 的数据，$a,b$ 在\`long long\`类型的存储范围内；
对于 $100\\%$ 的数据，$0<a,b\\le 10^{10086}$。`,
  },
  {
    title: "A*B Problem",
    source: "gesp_practice",
    sourceId: "P1303",
    sourceUrl: "https://www.luogu.com.cn/problem/P1303",
    level: 5,
    knowledgePoints: ["高精度", "大整数运算", "乘法"],
    difficulty: "普及-",
    description: `给出两个非负整数，求它们的乘积。`,
    inputFormat: `输入共两行，每行一个非负整数。
`,
    outputFormat: `输出一个非负整数表示乘积。`,
    samples: [
      { input: "1\n2", output: "2" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "1\n2", output: "2" },
      // 极端测试用例 (14个)
      { input: "0\n12345", output: "0" },  // 乘以0
      { input: "0\n0", output: "0" },  // 两个0
      { input: "1\n99999", output: "99999" },  // 乘以1
      { input: "999\n999", output: "998001" },  // 三位数相乘
      { input: "123456789\n987654321", output: "121932631112635269" },  // 9位×9位
      { input: "100\n100", output: "10000" },  // 末尾带0
      { input: "99999999999999999999\n1", output: "99999999999999999999" },  // 20位大数×1
      { input: "11111\n11111", output: "123454321" },  // 回文乘积
      { input: "2\n2", output: "4" },  // 最小非零乘法
      { input: "99999999999999999999\n99999999999999999999", output: "9999999999999999999800000000000000000001" },  // 20位×20位
      { input: "12345678901234567890\n10", output: "123456789012345678900" },  // 大数×10
      { input: "99999999999999999999\n2", output: "199999999999999999998" },  // 20位全9×2
      { input: "55555555555555555555\n2", output: "111111111111111111110" },  // 大数×2
      { input: "33333333333333333333\n3", output: "99999999999999999999" },  // 大数×3
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `每个非负整数不超过 $10^{2000}$。`,
  },
  {
    title: "A/B Problem（高精度除法Ⅰ）",
    source: "gesp_practice",
    sourceId: "P1480",
    sourceUrl: "https://www.luogu.com.cn/problem/P1480",
    level: 5,
    knowledgePoints: ["高精度", "大整数运算", "除法"],
    difficulty: "普及-",
    description: `输入两个整数 $a,b$，输出它们的商。
`,
    inputFormat: `两行，第一行是被除数，第二行是除数。
`,
    outputFormat: `一行，商的整数部分。
`,
    samples: [
      { input: "10\n2", output: "5" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "10\n2", output: "5" },
      // 极端测试用例 (14个)
      { input: "0\n5", output: "0" },  // 0÷任意数=0
      { input: "7\n2", output: "3" },  // 有余数向下取整
      { input: "100\n3", output: "33" },  // 不整除
      { input: "1\n1", output: "1" },  // 1÷1=1
      { input: "999999999999999999\n7", output: "142857142857142857" },  // 18位大数÷7
      { input: "1000000000000000000\n1000000000", output: "1000000000" },  // 大数整除
      { input: "123456789012345678901234567890\n1", output: "123456789012345678901234567890" },  // ÷1
      { input: "1\n1000000000", output: "0" },  // 被除数 < 除数
      { input: "999999999\n999999999", output: "1" },  // 被除数=除数
      { input: "1000000000000000000000000000000\n999999999", output: "1000000001000000001000" },  // 30位÷9位
      { input: "99999999999999999999999999999\n2", output: "49999999999999999999999999999" },  // 29位全9÷2
      { input: "123456789012345678901234567890\n123456789", output: "1000000000100000000010" },  // 大数÷9位
      { input: "1000000000\n3", output: "333333333" },  // 10位÷3有余
      { input: "999999999999999999999999999999\n1000000000", output: "999999999999999999999" },  // 30位÷10^9
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `$0\\le a\\le 10^{5000}$，$1\\le b\\le 10^9$。`,
  },
  {
    title: "最大正方形",
    source: "gesp_practice",
    sourceId: "P1387",
    sourceUrl: "https://www.luogu.com.cn/problem/P1387",
    level: 5,
    knowledgePoints: ["动态规划", "矩阵", "二维DP"],
    difficulty: "普及-",
    description: `在一个 $n\\times m$ 的只包含 $0$ 和 $1$ 的矩阵里找出一个不包含 $0$ 的最大正方形，输出边长。

保证矩阵里有至少一个 $1$。`,
    inputFormat: `输入文件第一行为两个整数 $n,m(1\\leq n,m\\leq 100)$，接下来 $n$ 行，每行 $m$ 个数字，用空格隔开，$0$ 或 $1$。`,
    outputFormat: `一个整数，最大正方形的边长。`,
    samples: [
      { input: "4 4\n0 1 1 1\n1 1 1 0\n0 1 1 0\n1 1 0 1", output: "2" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "4 4\n0 1 1 1\n1 1 1 0\n0 1 1 0\n1 1 0 1", output: "2" },
      // 极端测试用例 (14个)
      { input: "1 1\n1", output: "1" },  // 最小矩阵 1×1
      { input: "3 3\n1 1 1\n1 1 1\n1 1 1", output: "3" },  // 全1的3×3
      { input: "3 3\n1 0 0\n0 1 0\n0 0 1", output: "1" },  // 只有对角线为1
      { input: "2 3\n1 1 1\n1 1 1", output: "2" },  // 长方形全1，限制为min(n,m)=2
      { input: "1 5\n1 1 1 1 1", output: "1" },  // 单行，最大边长只能为1
      { input: "5 1\n1\n1\n1\n1\n1", output: "1" },  // 单列
      { input: "5 5\n1 0 1 1 1\n1 0 1 1 1\n1 1 1 1 1\n1 0 0 1 0\n1 0 0 1 0", output: "3" },  // 右上角有3×3全1区域
      { input: "2 2\n1 0\n0 1", output: "1" },  // 2×2对角线
      { input: "2 2\n1 1\n1 1", output: "2" },  // 全1的2×2
      { input: "4 4\n1 1 1 1\n1 1 1 1\n1 1 1 1\n1 1 1 1", output: "4" },  // 全1的4×4
      { input: "4 4\n0 0 0 1\n0 0 1 1\n0 1 1 1\n1 1 1 1", output: "2" },  // 阶梯形，最大正方形2×2
      { input: "5 5\n1 1 0 1 1\n1 1 0 1 1\n0 0 0 0 0\n1 1 0 1 1\n1 1 0 1 1", output: "2" },  // 十字分割，四个2×2区域
      { input: "5 5\n1 1 1 1 1\n1 0 0 0 1\n1 0 0 0 1\n1 0 0 0 1\n1 1 1 1 1", output: "1" },  // 空心框，内部全0
      { input: "5 5\n0 1 1 1 0\n1 1 1 1 1\n1 1 1 1 1\n1 1 1 1 1\n0 1 1 1 0", output: "3" },  // 菱形填充，中间有3×3
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: ``,
  },
  {
    title: "[NOIP 2010 提高组] 机器翻译",
    source: "gesp_practice",
    sourceId: "P1540",
    sourceUrl: "https://www.luogu.com.cn/problem/P1540",
    level: 5,
    knowledgePoints: ["队列", "模拟", "缓存"],
    difficulty: "普及-",
    description: `小晨的电脑上安装了一个机器翻译软件，他经常用这个软件来翻译英语文章。

这个翻译软件的原理很简单，它只是从头到尾，依次将每个英文单词用对应的中文含义来替换。对于每个英文单词，软件会先在内存中查找这个单词的中文含义，如果内存中有，软件就会用它进行翻译；如果内存中没有，软件就会在外存中的词典内查找，查出单词的中文含义然后翻译，并将这个单词和译义放入内存，以备后续的查找和翻译。

假设内存中有 $M$ 个单元，每单元能存放一个单词和译义。每当软件将一个新单词存入内存前，如果当前内存中已存入的单词数不超过 $M-1$，软件会将新单词存入一个未使用的内存单元；若内存中已存入 $M$ 个单词，软件会清空最早进入内存的那个单词，腾出单元来，存放新单词。

假设一篇英语文章的长度为 $N$ 个单词。给定这篇待译文章，翻译软件需要去外存查找多少次词典？假设在翻译开始前，内存中没有任何单词。`,
    inputFormat: `共 $2$ 行。每行中两个数之间用一个空格隔开。

第一行为两个正整数 $M,N$，代表内存容量和文章的长度。

第二行为 $N$ 个非负整数，按照文章的顺序，每个数（大小不超过 $1000$）代表一个英文单词。文章中两个单词是同一个单词，当且仅当它们对应的非负整数相同。`,
    outputFormat: `一个整数，为软件需要查词典的次数。
`,
    samples: [
      { input: "3 7\n1 2 1 5 4 4 1", output: "5" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "3 7\n1 2 1 5 4 4 1", output: "5" },
      // 极端测试用例 (14个)
      { input: "1 4\n1 2 1 2", output: "4" },  // 容量1，每次都换出，查4次
      { input: "2 4\n1 2 1 2", output: "2" },  // 容量2，前2次查入后全命中
      { input: "100 5\n1 2 3 4 5", output: "5" },  // 容量远大于文章，每个词查1次
      { input: "1 4\n1 1 1 1", output: "1" },  // 全相同单词，只查1次
      { input: "2 6\n1 2 3 1 2 3", output: "6" },  // 容量2装3种词，每次都miss
      { input: "1 1\n0", output: "1" },  // 最短文章1个词
      { input: "3 3\n1 1 1", output: "1" },  // 全相同3个
      { input: "100 1\n999", output: "1" },  // 单个大编号词
      { input: "5 10\n1 2 3 4 5 1 2 3 4 5", output: "5" },  // 刚好装满再重复，全命中
      { input: "3 10\n1 2 3 4 5 6 7 8 9 10", output: "10" },  // 10个不同词容量3，全miss
      { input: "2 8\n0 1 0 1 0 1 0 1", output: "2" },  // 交替2词容量2，只查2次
      { input: "1 8\n0 1 0 1 0 1 0 1", output: "8" },  // 交替2词容量1，每次都miss
      { input: "4 9\n1 2 3 4 1 2 3 4 5", output: "5" },  // 前4个查入，重复命中，最后新词
      { input: "3 9\n10 20 30 10 20 40 10 20 30", output: "7" },  // 混合模式，部分命中
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `### 样例解释

整个查字典过程如下：每行表示一个单词的翻译，冒号前为本次翻译后的内存状况：

1. \`1\`：查找单词 1 并调入内存。
2. \`1 2\`：查找单词 2 并调入内存。
3. \`1 2\`：在内存中找到单词 1。
4. \`1 2 5\`：查找单词 5 并调入内存。
5. \`2 5 4\`：查找单词 4 并调入内存替代单词 1。
6. \`2 5 4\`：在内存中找到单词 4。
7. \`5 4 1\`：查找单词 1 并调入内存替代单词 2。

共计查了 $5$ 次词典。

### 数据范围

- 对于 $10\\%$ 的数据有 $M=1$，$N \\leq 5$；
- 对于 $100\\%$ 的数据有 $1 \\leq M \\leq 100$，$1 \\leq N \\leq 1000$。`,
  },
  {
    title: "排队接水",
    source: "gesp_practice",
    sourceId: "P1223",
    sourceUrl: "https://www.luogu.com.cn/problem/P1223",
    level: 5,
    knowledgePoints: ["贪心", "排序", "模拟"],
    difficulty: "普及-",
    description: `有 $n$ 个人在一个水龙头前排队接水，假如每个人接水的时间为 $T_i$，请编程找出这 $n$ 个人排队的一种顺序，使得 $n$ 个人的平均等待时间最小。

一个人的等待时间不包括他的接水时间。

如果两个人接水的时间相同，编号更小的人应当排在前面。`,
    inputFormat: `第一行为一个整数 $n$。

第二行 $n$ 个整数，第 $i$ 个整数 $T_i$ 表示第 $i$ 个人的接水时间 $T_i$。`,
    outputFormat: `输出文件有两行，第一行为一种平均时间最短的排队顺序；第二行为这种排列方案下的平均等待时间（输出结果精确到小数点后两位）。`,
    samples: [
      { input: "10\n56 12 1 99 1000 234 33 55 99 812", output: "3 2 7 8 1 4 9 6 10 5\n291.90" },
    ],
    testCases: [
      // 原始样例 (1个)
      { input: "10\n56 12 1 99 1000 234 33 55 99 812", output: "3 2 7 8 1 4 9 6 10 5\n291.90" },
      // 极端测试用例 (14个)
      { input: "1\n5", output: "1\n0.00" },  // n=1，无等待
      { input: "2\n3 1", output: "2 1\n0.50" },  // 2人，短的先
      { input: "3\n1 1 1", output: "1 2 3\n1.00" },  // 全相同，按编号排
      { input: "3\n3 2 1", output: "3 2 1\n1.33" },  // 逆序3人
      { input: "5\n5 4 3 2 1", output: "5 4 3 2 1\n4.00" },  // 逆序5人
      { input: "2\n1 1", output: "1 2\n0.50" },  // 2人同时间按编号
      { input: "4\n10 10 10 10", output: "1 2 3 4\n15.00" },  // 4人全相同
      { input: "10\n1 2 3 4 5 6 7 8 9 10", output: "1 2 3 4 5 6 7 8 9 10\n16.50" },  // 10人已排序
      { input: "2\n1000000 1", output: "2 1\n0.50" },  // 极端大值和小值
      { input: "4\n100 100 1 1", output: "3 4 1 2\n26.25" },  // 两组相同，短的先
      { input: "7\n7 7 7 7 7 7 7", output: "1 2 3 4 5 6 7\n21.00" },  // 7人全相同
      { input: "2\n1 1000000", output: "1 2\n0.50" },  // 极端两人
      { input: "3\n999999 999998 999997", output: "3 2 1\n999997.33" },  // 3个大数
      { input: "5\n1 2 1 2 1", output: "1 3 5 2 4\n2.20" },  // 交替值，同值按编号排
    ],
    timeLimit: 1000,
    memoryLimit: 128,
    hint: `$1\\le n \\leq 1000$，$1\\le t_i \\leq 10^6$，不保证 $t_i$ 不重复。`,
  },
  {
    title: "小A的糖果",
    source: "gesp_practice",
    sourceId: "P3817",
    sourceUrl: "https://www.luogu.com.cn/problem/P3817",
    level: 5,
    knowledgePoints: ["贪心", "模拟"],
    difficulty: "普及-",
    description: `小 A 有 $n$ 个糖果盒，第 $i$ 个盒中有 $a_i$ 颗糖果。

小 A 每次可以从其中一盒糖果中吃掉一颗，他想知道，要让任意两个相邻的盒子中糖的个数之和都不大于 $x$，至少得吃掉几颗糖。
`,
    inputFormat: `输入的第一行是两个用空格隔开的整数，代表糖果盒的个数 $n$ 和给定的参数 $x$。

第二行有 $n$ 个用空格隔开的整数，第 $i$ 个整数代表第 $i$ 盒糖的糖果个数 $a_i$。`,
    outputFormat: `输出一行一个整数，代表最少要吃掉的糖果的数量。`,
    samples: [
      { input: "3 3\n2 2 2", output: "1" },
      { input: "6 1\n1 6 1 2 0 4", output: "11" },
      { input: "5 9\n3 1 4 1 5", output: "0" },
    ],
    testCases: [
      // 原始样例 (3个)
      { input: "3 3\n2 2 2", output: "1" },
      { input: "6 1\n1 6 1 2 0 4", output: "11" },
      { input: "5 9\n3 1 4 1 5", output: "0" },
      // 极端测试用例 (12个)
      { input: "2 0\n0 0", output: "0" },  // x=0且全0，无需吃
      { input: "2 0\n5 3", output: "8" },  // x=0，全部吃完
      { input: "2 10\n5 3", output: "0" },  // 已满足条件
      { input: "4 3\n1 2 3 4", output: "4" },  // 需多步调整
      { input: "2 1000000000\n1000000000 1000000000", output: "1000000000" },  // 大数据边界 sum=2e9>1e9
      { input: "3 0\n1000000000 1000000000 1000000000", output: "3000000000" },  // x=0大数据全吃
      { input: "2 5\n3 3", output: "1" },  // sum=6>5，吃1颗
      { input: "3 10\n0 0 0", output: "0" },  // 全0无需吃
      { input: "5 5\n5 5 5 5 5", output: "10" },  // 全相同超限
      { input: "4 10\n10 10 10 10", output: "20" },  // 相邻对都超限
      { input: "2 1\n1000000000 1000000000", output: "1999999999" },  // x=1大数据
      { input: "5 100\n50 60 70 80 90", output: "100" },  // 递增序列需调整
    ],
    timeLimit: 1000,
    memoryLimit: 512,
    hint: `#### 样例输入输出 1 解释

吃掉第 2 盒中的一个糖果即可。

---

#### 样例输入输出 2 解释

第 2 盒糖吃掉 $6$ 颗，第 4 盒吃掉 $2$ 颗，第 6 盒吃掉 $3$ 颗。

---

#### 数据规模与约定

- 对于 $30\\%$ 的数据，保证 $n \\leq 20$，$a_i, x \\leq 100$。
- 对于 $70\\%$ 的数据，保证 $n \\leq 10^3$，$a_i, x \\leq 10^5$。
- 对于 $100\\%$ 的数据，保证 $2 \\leq n \\leq 10^5$，$0 \\leq a_i, x \\leq 10^9$。`,
  },
];

export const { GET, POST } = createSeedHandler(gesp5Problems, "GESP 5级");
